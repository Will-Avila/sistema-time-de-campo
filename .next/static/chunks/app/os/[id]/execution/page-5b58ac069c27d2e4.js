(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[48],{3078:function(e,t,a){Promise.resolve().then(a.t.bind(a,5250,23)),Promise.resolve().then(a.bind(a,3232)),Promise.resolve().then(a.bind(a,4861))},3232:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return q}});var s=a(3827),r=a(4090),l=a(1828),n=a(8670),o=a(2782);a(5355);var d=a(3472),i=(0,d.$)("7d92606c6af10ca17002dfa0e1f2af0a017ffc8d"),c=(0,d.$)("6da7003579056233712394fa6e028a7f2a439d1e"),u=(0,d.$)("b06f5a4d9400fc918d8a774ad44e361b29420175"),m=(0,d.$)("db6ecb818f221f647e26e6f7758067e75abe9e22"),x=a(703),f=a(5671),h=a(7336),b=a(7501),p=a(2457),g=a(7451),N=a(7841),v=a(489),j=a(9578),k=a(575),w=a(2685),y=a(7290),C=a(5369),E=a(2123),D=a(2235),O=a(2169);let A=E.fC;E.xz;let S=E.h_;E.x8;let z=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(E.aV,{ref:t,className:(0,O.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});z.displayName=E.aV.displayName;let P=r.forwardRef((e,t)=>{let{className:a,children:r,...l}=e;return(0,s.jsxs)(S,{children:[(0,s.jsx)(z,{}),(0,s.jsxs)(E.VY,{ref:t,className:(0,O.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l,children:[r,(0,s.jsxs)(E.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(D.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});P.displayName=E.VY.displayName;let I=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,O.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};I.displayName="DialogHeader";let Z=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(E.Dx,{ref:t,className:(0,O.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});Z.displayName=E.Dx.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(E.dk,{ref:t,className:(0,O.cn)("text-sm text-muted-foreground",a),...r})}).displayName=E.dk.displayName;var R=a(3549);function F(e){var t;let{item:a,osId:l,equipeName:n,session:d}=e,[E,D]=(0,r.useState)(!1),[O,S]=(0,r.useState)(!1),z="UNTOUCHED";a.done?z="DONE":"NOK"===a.status&&(z="PENDING");let[F,q]=(0,r.useState)(z),[_,G]=(0,r.useState)(!1),[L,M]=(0,r.useState)(!1),[T,U]=(0,r.useState)(!1);(0,r.useRef)(null);let[V,H]=(0,r.useState)(!1),[B,$]=(0,r.useState)(0),[K,W]=(0,r.useState)(a.potencia||""),[Y,J]=(0,r.useState)(a.obs||""),[Q,X]=(0,r.useState)(a.certified||!1),ee=(null==d?void 0:d.id)===a.equipe,et=(null==d?void 0:d.isAdmin)||ee,[ea,es]=(0,r.useState)(null);async function er(e){e.preventDefault(),G(!0);let t=new FormData(e.currentTarget);t.append("done","true"),t.append("certified",String(Q));let a=await c(null,t);a.success?(q("DONE"),D(!1),(0,y.A)("Caixa conclu\xedda!","success")):(0,y.A)(a.message||"Erro ao salvar.","error"),G(!1)}async function el(){G(!0);let e=new FormData;e.append("osId",l),e.append("itemId",String(a.id||a.cto)),e.append("done","false");let t=await c(null,e);t.success?(q("PENDING"),D(!1),(0,y.A)("Marcada como n\xe3o executada.","warning")):(0,y.A)(t.message||"Erro ao atualizar.","error"),G(!1)}async function en(e){es(null),G(!0);let t=await u(e,l);t.success?(0,y.A)("Foto removida.","success"):(0,y.A)(t.message||"Erro ao remover foto.","error"),G(!1)}async function eo(){es(null),G(!0);let e=await m(l,String(a.id||a.cto));e.success?(q("UNTOUCHED"),W(""),J(""),U(!1),D(!1),(0,y.A)("Caixa desmarcada.","success")):(0,y.A)(e.message||"Erro ao desmarcar.","error"),G(!1)}async function ed(e){if(!e.target.files||0===e.target.files.length)return;M(!0);let t=new FormData;t.append("osId",l),t.append("itemId",String(a.id||a.cto)),Array.from(e.target.files).forEach(e=>{t.append("photos",e)});let s=await i(t);s.success?(0,y.A)("Fotos adicionadas!","success"):(0,y.A)(s.message||"Erro ao enviar fotos.","error"),M(!1),e.target.value=""}return(0,s.jsxs)(f.Zb,{className:"rounded-xl shadow-sm border transition-all ".concat("DONE"===F?"bg-green-100 dark:bg-green-900/30 border-green-200 dark:border-green-800":"PENDING"===F?"bg-red-50 dark:bg-red-900/20 border-red-100 dark:border-red-800":"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-700"),children:[(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("h3",{className:"font-bold text-slate-800 dark:text-slate-100 text-lg",children:a.cto}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(k.z,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full text-slate-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",onClick:()=>{var e;return null===(e=document.getElementById("file-upload-".concat(a.cto)))||void 0===e?void 0:e.click()},disabled:_||L,title:"Adicionar Fotos",children:(0,s.jsx)(h.Z,{className:"h-5 w-5"})}),(0,s.jsx)("input",{type:"file",id:"file-upload-".concat(a.cto),className:"hidden",onChange:ed,multiple:!0,accept:"image/*"}),(0,s.jsx)("button",{onClick:()=>D(!0),className:"group relative flex h-6 w-11 items-center rounded-full border-2 transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 ".concat("DONE"===F?"bg-primary border-primary":"PENDING"===F?"bg-destructive border-destructive":"bg-slate-200 border-transparent"),children:(0,s.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white shadow-sm ring-0 transition duration-200 ease-in-out ".concat("DONE"===F?"translate-x-5":"translate-x-0.5")})})]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-primary font-medium",children:[(0,s.jsx)("div",{className:"w-4 flex items-center justify-center shrink-0",children:(0,s.jsx)(b.Z,{className:"h-3 w-3 fill-current"})}),(0,s.jsx)("span",{children:a.chassiPath})]}),(0,s.jsxs)("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[(0,s.jsx)("div",{className:"w-4 flex items-center justify-center shrink-0 mt-0.5",children:(0,s.jsx)(p.Z,{className:"h-4 w-4"})}),(0,s.jsx)("span",{className:"line-clamp-2",children:a.endereco})]}),a.lat&&a.long&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,s.jsx)("div",{className:"w-4 flex items-center justify-center shrink-0",children:(0,s.jsx)(g.Z,{className:"h-4 w-4"})}),(0,s.jsxs)("span",{children:[a.lat,", ",a.long]})]})]}),("DONE"===F||a.photos&&a.photos.length>0)&&(0,s.jsxs)("div",{className:"mt-4 pt-3 border-t border-slate-200/60 dark:border-slate-700 space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 font-medium text-slate-700 dark:text-slate-300",children:["DONE"===F&&a.potencia&&(0,s.jsxs)("span",{className:"bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded",children:["Signal: ",a.potencia," dBm"]}),"DONE"===F&&Q&&(0,s.jsx)("span",{className:"px-2 py-1 rounded text-xs bg-emerald-100 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800",children:"Certificada"})]}),a.photos&&a.photos.length>0&&(0,s.jsxs)(k.z,{variant:"ghost",size:"sm",onClick:()=>U(!T),className:"h-7 text-xs gap-1 ".concat(T?"text-blue-600 bg-blue-50 dark:bg-blue-900/20":"text-primary"),children:[(0,s.jsx)(N.Z,{className:"h-3 w-3"})," ",T?"Esconder":"Ver ".concat(a.photos.length)," Fotos"]})]}),"DONE"===F&&a.obs&&(0,s.jsxs)("div",{className:"bg-amber-50 dark:bg-amber-900/10 p-2 rounded border border-amber-100 dark:border-amber-900/30 text-xs text-amber-800 dark:text-amber-400 italic",children:['"',a.obs,'"']}),"DONE"===F&&(a.nomeEquipe||n)&&(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Respons\xe1vel: ",(0,s.jsx)("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:a.nomeEquipe||n})]})})]}),T&&a.photos&&a.photos.length>0&&(0,s.jsx)("div",{className:"mt-3 grid grid-cols-5 sm:grid-cols-6 gap-2 animate-in fade-in duration-300",children:a.photos.map((e,t)=>(0,s.jsxs)("div",{className:"relative aspect-square overflow-hidden rounded-md border border-slate-100 dark:border-slate-700 shadow-sm group/photo",children:[(0,s.jsx)(x.default,{src:e.path,alt:"Foto",fill:!0,className:"object-cover transition-transform hover:scale-110 cursor-pointer",onClick:()=>{$(t),H(!0)}}),(0,s.jsx)("button",{onClick:t=>{var a;t.preventDefault(),t.stopPropagation(),a=e.id,es({title:"Excluir Foto",message:"Tem certeza que deseja apagar esta foto? Esta a\xe7\xe3o n\xe3o pode ser desfeita.",action:()=>en(a)})},className:"absolute top-1 right-1 bg-red-500/80 text-white p-1 rounded-full opacity-0 group-hover/photo:opacity-100 transition-opacity hover:bg-red-600",title:"Excluir foto",disabled:!(null==d?void 0:d.isAdmin)&&e.equipeId!==(null==d?void 0:d.id),children:(0,s.jsx)(v.Z,{className:"h-3 w-3"})})]},e.id))}),a.lat&&a.long&&(0,s.jsx)(k.z,{variant:"default",className:"mt-4 w-full bg-blue-600 hover:bg-blue-700 text-white shadow-sm",onClick:()=>S(!0),children:"Abrir no Mapa"})]}),(0,s.jsx)(w.O,{isOpen:V,onClose:()=>H(!1),images:(null===(t=a.photos)||void 0===t?void 0:t.map(e=>e.path))||[],initialIndex:B}),(0,s.jsx)(A,{open:O,onOpenChange:S,children:(0,s.jsxs)(P,{className:"sm:max-w-md bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800",children:[(0,s.jsx)(I,{children:(0,s.jsx)(Z,{className:"text-xl font-bold text-center pb-2",children:"Escolha o aplicativo"})}),(0,s.jsxs)("div",{className:"grid gap-3 py-4 pt-0",children:[(0,s.jsxs)("a",{href:"https://www.google.com/maps/search/?api=1&query=".concat(a.lat,",").concat(a.long),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4 rounded-xl border border-slate-200 dark:border-slate-700 p-4 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors shadow-sm group",onClick:()=>S(!1),children:[(0,s.jsx)("div",{className:"relative w-12 h-12 shrink-0 rounded-xl overflow-hidden shadow-sm border border-slate-100 dark:border-slate-800",children:(0,s.jsx)(x.default,{src:"/assets/icons/google-maps.jpg",alt:"Google Maps",fill:!0,className:"object-cover"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-semibold text-slate-900 dark:text-slate-100 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:"Google Maps"}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground mt-0.5",children:"Recomendado"})]})]}),(0,s.jsxs)("a",{href:"https://waze.com/ul?ll=".concat(a.lat,",").concat(a.long,"&navigate=yes"),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4 rounded-xl border border-slate-200 dark:border-slate-700 p-4 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors shadow-sm group",onClick:()=>S(!1),children:[(0,s.jsx)("div",{className:"relative w-12 h-12 shrink-0 rounded-xl overflow-hidden shadow-sm border border-slate-100 dark:border-slate-800",children:(0,s.jsx)(x.default,{src:"/assets/icons/waze.png",alt:"Waze",fill:!0,className:"object-cover"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-semibold text-slate-900 dark:text-slate-100 group-hover:text-cyan-500 transition-colors",children:"Waze"}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground mt-0.5",children:"Tr\xe2nsito em tempo real"})]})]}),(0,s.jsxs)("a",{href:"http://maps.apple.com/?daddr=".concat(a.lat,",").concat(a.long),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4 rounded-xl border border-slate-200 dark:border-slate-700 p-4 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors shadow-sm sm:hidden group",onClick:()=>S(!1),children:[(0,s.jsx)("div",{className:"relative w-12 h-12 shrink-0 rounded-xl overflow-hidden shadow-sm border border-slate-100 dark:border-slate-800",children:(0,s.jsx)(x.default,{src:"/assets/icons/apple-maps.jpg",alt:"Apple Maps",fill:!0,className:"object-cover"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-semibold text-slate-900 dark:text-slate-100 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition-colors",children:"Apple Maps"}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground mt-0.5",children:"Nativo iOS"})]})]}),(0,s.jsxs)("a",{href:"geo:".concat(a.lat,",").concat(a.long),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4 rounded-xl border border-slate-200 dark:border-slate-700 p-4 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors shadow-sm group",onClick:()=>S(!1),children:[(0,s.jsx)("div",{className:"w-12 h-12 shrink-0 bg-slate-100 dark:bg-slate-800 rounded-xl flex items-center justify-center border border-slate-200 dark:border-slate-700",children:(0,s.jsx)(g.Z,{className:"h-6 w-6 text-slate-600 dark:text-slate-400 group-hover:scale-110 transition-transform"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Outro App"}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground mt-0.5",children:"Escolher app instalado"})]})]})]})]})}),E&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:(0,s.jsxs)(f.Zb,{className:"w-full max-w-md overflow-hidden relative shadow-2xl dark:bg-slate-900 dark:border-slate-700",children:[(0,s.jsx)(f.Ol,{className:"bg-slate-50 dark:bg-slate-800 border-b dark:border-slate-700 pb-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("h3",{className:"font-bold text-lg text-slate-900 dark:text-slate-100",children:["Atualizar Caixa ",a.cto]}),(0,s.jsx)("button",{onClick:()=>D(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:"âœ•"})]})}),(0,s.jsx)("div",{className:"p-6",children:(0,s.jsxs)("form",{onSubmit:er,className:"space-y-5",children:[(0,s.jsx)("input",{type:"hidden",name:"osId",value:l}),(0,s.jsx)("input",{type:"hidden",name:"itemId",value:String(a.id||a.cto)}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 items-end",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium leading-none text-slate-700 dark:text-slate-300",children:"Pot\xeancia (dBm)"}),(0,s.jsx)(o.I,{type:"number",name:"power",step:"0.01",min:"-50",max:"-10",value:K,onChange:e=>W(e.target.value),className:"font-mono text-lg"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 h-10 bg-slate-100 dark:bg-slate-800 rounded-md px-3 border border-slate-200 dark:border-slate-700",children:[(0,s.jsx)("input",{type:"checkbox",id:"certified-".concat(a.cto),name:"certified",checked:Q,onChange:e=>X(e.target.checked),className:"h-5 w-5 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500"}),(0,s.jsx)("label",{htmlFor:"certified-".concat(a.cto),className:"text-sm font-medium text-slate-700 dark:text-slate-200 cursor-pointer select-none",children:"Certificada"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-sm font-medium leading-none text-slate-700 dark:text-slate-300",children:["Observa\xe7\xe3o ",(0,s.jsx)("span",{className:"text-xs font-normal text-slate-400",children:"(Opcional)"})]}),(0,s.jsx)(R.g,{name:"obs",value:Y,onChange:e=>J(e.target.value),rows:3,placeholder:"Descreve aqui qualquer detalhe importante..."})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-3 pt-2",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsx)(k.z,{type:"button",variant:"destructive",onClick:el,disabled:_,className:"w-full",children:"N\xe3o Executada"}),(0,s.jsx)(k.z,{type:"submit",className:"w-full shadow-lg bg-emerald-600 hover:bg-emerald-700 h-10",disabled:_,children:_?"Salvando...":"DONE"===F?"Atualizar":"Concluir"})]}),et&&"PENDING"!==F&&(0,s.jsxs)(k.z,{type:"button",variant:"outline",onClick:function(){es({title:"Desmarcar Caixa",message:"Dados e fotos desta caixa ser\xe3o removidos. Deseja continuar?",action:eo})},disabled:_,className:"w-full gap-2 text-rose-500 border-rose-200 hover:bg-rose-50 hover:text-rose-600",children:[(0,s.jsx)(j.Z,{className:"h-4 w-4"}),"Desmarcar"]})]})]})})]})}),(0,s.jsx)(C.s,{open:!!ea,title:(null==ea?void 0:ea.title)||"",message:(null==ea?void 0:ea.message)||"",variant:"danger",confirmLabel:"Sim, continuar",onConfirm:()=>null==ea?void 0:ea.action(),onCancel:()=>es(null)})]})}function q(e){let{osId:t,protocolo:a,items:d,equipeName:i,session:c}=e,[u,m]=(0,r.useState)(""),x=(0,r.useMemo)(()=>d.map(e=>{let t=String(e.id||e.cto),a="UNTOUCHED";return e.done||"OK"===e.status?a="DONE":"NOK"===e.status&&(a="PENDING"),{...e,itemId:t,executionStatus:a}}),[d]),f=(0,r.useMemo)(()=>{let e=x.length,t=x.filter(e=>"DONE"===e.executionStatus).length,a=x.filter(e=>"PENDING"===e.executionStatus).length,s=e-t-a;return{total:e,done:t,pending:a,untouched:s,donePct:e>0?t/e*100:0,pendingPct:e>0?a/e*100:0,untouchedPct:e>0?s/e*100:0}},[x]),h=(0,r.useMemo)(()=>{if(!u)return x;let e=u.toLowerCase();return x.filter(t=>t.cto.toLowerCase().includes(e)||t.chassiPath&&t.chassiPath.toLowerCase().includes(e))},[x,u]);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 p-5 shadow-sm mx-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(l.Z,{className:"h-5 w-5 text-blue-500"}),(0,s.jsx)("h2",{className:"font-bold text-slate-800 dark:text-slate-100",children:"Progresso da Execu\xe7\xe3o"})]}),(0,s.jsxs)("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400",children:[f.done," / ",f.total," conclu\xeddas"]})]}),(0,s.jsxs)("div",{className:"h-3 w-full bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden flex",children:[(0,s.jsx)("div",{className:"h-full bg-emerald-500 transition-all duration-500 ease-out",style:{width:"".concat(f.donePct,"%")},title:"Conclu\xeddas: ".concat(f.done)}),(0,s.jsx)("div",{className:"h-full bg-rose-500 transition-all duration-500 ease-out",style:{width:"".concat(f.pendingPct,"%")},title:"Pendentes: ".concat(f.pending)})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 mt-4 text-xs font-medium",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-emerald-500"}),(0,s.jsxs)("span",{className:"text-slate-600 dark:text-slate-400",children:[f.done," Conclu\xeddas"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-rose-500"}),(0,s.jsxs)("span",{className:"text-slate-600 dark:text-slate-400",children:[f.pending," Pendentes"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-slate-200 dark:bg-slate-700"}),(0,s.jsxs)("span",{className:"text-slate-600 dark:text-slate-400",children:[f.untouched," A fazer"]})]})]})]}),(0,s.jsx)("div",{className:"px-4",children:(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)(n.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400 group-focus-within:text-blue-500 transition-colors"}),(0,s.jsx)(o.I,{placeholder:"Buscar caixa (ex: FLA21-0123)...",className:"pl-10 h-11 bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-sm rounded-xl focus-visible:ring-blue-500 focus-visible:border-blue-500",value:u,onChange:e=>m(e.target.value)}),u&&(0,s.jsx)("button",{onClick:()=>m(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs font-medium text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:"Limpar"})]})}),(0,s.jsx)("div",{className:"px-4 pb-10 space-y-4",children:0===h.length?(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-dashed border-slate-300 dark:border-slate-800 p-10 text-center",children:[(0,s.jsx)("div",{className:"bg-slate-50 dark:bg-slate-800 h-12 w-12 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,s.jsx)(n.Z,{className:"h-6 w-6 text-slate-400"})}),(0,s.jsx)("h3",{className:"font-bold text-slate-800 dark:text-slate-100 mb-1",children:"Nenhuma caixa encontrada"}),(0,s.jsx)("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Tente ajustar sua busca ou limpar o filtro."}),u&&(0,s.jsxs)("button",{onClick:()=>m(""),className:"mt-4 text-sm font-bold text-blue-600 dark:text-blue-400 hover:underline",children:["Ver todas as ",f.total," caixas"]})]}):h.map((e,a)=>(0,s.jsx)(F,{item:{...e,id:e.itemId},osId:t,equipeName:i,session:c},e.itemId))})]})}},5671:function(e,t,a){"use strict";a.d(t,{Ol:function(){return o},SZ:function(){return i},Zb:function(){return n},aY:function(){return c},eW:function(){return u},ll:function(){return d}});var s=a(3827),r=a(4090),l=a(2169);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});n.displayName="Card";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...r})});o.displayName="CardHeader";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});d.displayName="CardTitle";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});i.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",a),...r})});u.displayName="CardFooter"},5369:function(e,t,a){"use strict";a.d(t,{s:function(){return o}});var s=a(3827),r=a(5671),l=a(575),n=a(9724);function o(e){let{open:t,title:a,message:o,confirmLabel:d="Confirmar",cancelLabel:i="Cancelar",variant:c="default",onConfirm:u,onCancel:m}=e;return t?(0,s.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:(0,s.jsx)(r.Zb,{className:"w-full max-w-sm shadow-2xl dark:bg-slate-900 dark:border-slate-700",children:(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"p-2 rounded-full shrink-0 ".concat("danger"===c?"bg-red-100 dark:bg-red-900/30":"bg-blue-100 dark:bg-blue-900/30"),children:(0,s.jsx)(n.Z,{className:"h-5 w-5 ".concat("danger"===c?"text-red-600 dark:text-red-400":"text-blue-600 dark:text-blue-400")})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-slate-900 dark:text-slate-100",children:a}),(0,s.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:o})]})]}),(0,s.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,s.jsx)(l.z,{variant:"outline",onClick:m,className:"dark:border-slate-600 dark:text-slate-300",children:i}),(0,s.jsx)(l.z,{variant:"danger"===c?"destructive":"default",onClick:u,children:d})]})]})})}):null}},2685:function(e,t,a){"use strict";a.d(t,{O:function(){return c}});var s=a(3827),r=a(2235),l=a(9108),n=a(7805),o=a(703),d=a(4090),i=a(9542);function c(e){let{isOpen:t,onClose:a,images:c,initialIndex:u=0}=e,[m,x]=d.useState(u);(0,d.useEffect)(()=>{t&&x(u)},[t,u]);let f=(0,d.useCallback)(()=>{x(e=>(e+1)%c.length)},[c.length]),h=(0,d.useCallback)(()=>{x(e=>(e-1+c.length)%c.length)},[c.length]);return((0,d.useEffect)(()=>{if(!t)return;let e=e=>{"Escape"===e.key&&a(),"ArrowRight"===e.key&&f(),"ArrowLeft"===e.key&&h()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t,a,f,h]),t&&"undefined"!=typeof document)?(0,i.createPortal)((0,s.jsxs)("div",{className:"fixed inset-0 z-[9999] bg-black/90 backdrop-blur-sm flex items-center justify-center animate-in fade-in duration-200",children:[(0,s.jsx)("button",{onClick:a,className:"absolute top-4 right-4 text-white/70 hover:text-white transition-colors bg-black/20 p-2 rounded-full hover:bg-white/10",children:(0,s.jsx)(r.Z,{className:"h-8 w-8"})}),c.length>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),h()},className:"absolute left-4 text-white/70 hover:text-white transition-colors hover:scale-110 p-2",children:(0,s.jsx)(l.Z,{className:"h-10 w-10 sm:h-12 sm:w-12"})}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),f()},className:"absolute right-4 text-white/70 hover:text-white transition-colors hover:scale-110 p-2",children:(0,s.jsx)(n.Z,{className:"h-10 w-10 sm:h-12 sm:w-12"})})]}),(0,s.jsx)("div",{className:"relative w-full h-full max-w-[90vw] max-h-[90vh] flex items-center justify-center pointer-events-none",children:(0,s.jsx)("div",{className:"relative w-full h-full pointer-events-auto",children:(0,s.jsx)(o.default,{src:c[m],alt:"Foto ".concat(m+1),fill:!0,className:"object-contain",quality:90,priority:!0})})}),c.length>1&&(0,s.jsxs)("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 text-white/80 font-medium bg-black/40 px-3 py-1 rounded-full text-sm",children:[m+1," / ",c.length]})]}),document.body):null}},2782:function(e,t,a){"use strict";a.d(t,{I:function(){return n}});var s=a(3827),r=a(4090),l=a(2169);let n=r.forwardRef((e,t)=>{let{className:a,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:(0,l.cn)("flex h-11 w-full rounded-md border border-input bg-background px-4 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all",a),ref:t,...n})});n.displayName="Input"},3549:function(e,t,a){"use strict";a.d(t,{g:function(){return n}});var s=a(3827),r=a(4090),l=a(2169);let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-4 py-3 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...r})});n.displayName="Textarea"},7290:function(e,t,a){"use strict";a.d(t,{A:function(){return r}});var s=a(6288);function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";switch(t){case"success":s.Am.success(e);break;case"error":s.Am.error(e);break;case"warning":s.Am.warning(e);break;default:s.Am.info(e)}}}},function(e){e.O(0,[55,380,288,248,72,861,971,69,744],function(){return e(e.s=3078)}),_N_E=e.O()}]);