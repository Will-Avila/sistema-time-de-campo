(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{2494:function(e,a,t){Promise.resolve().then(t.bind(t,2958)),Promise.resolve().then(t.bind(t,4861))},9580:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(4999).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},699:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(4999).Z)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},2958:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return h}});var s=t(3827),r=t(4090),l=t(3204),n=t(575),d=t(2782),i=t(5671),c=t(1213),o=t(4999);let m=(0,o.Z)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),x=(0,o.Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var u=t(9580),f=t(699),p=t(7907);function h(e){let{user:a}=e,t=(0,p.useRouter)(),[o,h]=(0,r.useState)(!1),[N,b]=(0,r.useState)(null);async function g(e){h(!0),b(null);let a=e.get("password"),s=e.get("confirmPassword");if(a&&a!==s){b({type:"error",text:"As senhas n\xe3o coincidem."}),h(!1);return}let r=await (0,l.ck)({name:e.get("name"),fullName:e.get("fullName"),phone:e.get("phone"),password:a||void 0});r.success?(b({type:"success",text:r.message||"Perfil atualizado!"}),t.refresh()):b({type:"error",text:r.message||"Erro ao atualizar."}),h(!1)}return(0,s.jsxs)(i.Zb,{className:"w-full max-w-2xl mx-auto bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-sm",children:[(0,s.jsxs)(i.Ol,{children:[(0,s.jsxs)(i.ll,{className:"text-2xl font-bold flex items-center gap-2 text-slate-800 dark:text-slate-100",children:[(0,s.jsx)(c.Z,{className:"h-6 w-6 text-primary"}),"Editar Perfil"]}),(0,s.jsx)(i.SZ,{className:"text-slate-500 dark:text-slate-400",children:"Atualize suas informa\xe7\xf5es pessoais e credenciais de acesso."})]}),(0,s.jsx)(i.aY,{children:(0,s.jsxs)("form",{action:g,className:"space-y-6",children:[N&&(0,s.jsx)("div",{className:"p-3 rounded-md text-sm font-medium ".concat("success"===N.type?"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":"bg-red-50 text-red-700 dark:bg-red-900/20 dark:text-red-400"),children:N.text}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium leading-none text-slate-700 dark:text-slate-300",children:"Nome Completo"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(c.Z,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),(0,s.jsx)(d.I,{name:"fullName",defaultValue:a.fullName||"",placeholder:"Seu nome completo",className:"pl-9 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-100"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium leading-none text-slate-700 dark:text-slate-300",children:"Telefone"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(m,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),(0,s.jsx)(d.I,{name:"phone",defaultValue:a.phone||"",placeholder:"(00) 00000-0000",className:"pl-9 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-100"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium leading-none text-slate-700 dark:text-slate-300",children:"Nome de Usu\xe1rio (Login)"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(c.Z,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),(0,s.jsx)(d.I,{name:"name",defaultValue:a.name,required:!0,placeholder:"usuario.sistema",className:"pl-9 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-100"})]}),(0,s.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Este \xe9 o nome usado para entrar no sistema."})]}),(0,s.jsxs)("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-800",children:[(0,s.jsxs)("h3",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100 mb-4 flex items-center gap-2",children:[(0,s.jsx)(x,{className:"h-4 w-4 text-slate-400"}),"Alterar Senha"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium leading-none text-slate-700 dark:text-slate-300",children:"Nova Senha"}),(0,s.jsx)(d.I,{name:"password",type:"password",placeholder:"Min. 6 caracteres",minLength:6,className:"dark:bg-slate-800 dark:border-slate-700 dark:text-slate-100"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium leading-none text-slate-700 dark:text-slate-300",children:"Confirmar Senha"}),(0,s.jsx)(d.I,{name:"confirmPassword",type:"password",placeholder:"Repita a senha",minLength:6,className:"dark:bg-slate-800 dark:border-slate-700 dark:text-slate-100"})]})]}),(0,s.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:"Deixe em branco se n\xe3o quiser alterar a senha."})]})]}),(0,s.jsx)("div",{className:"flex justify-end pt-4",children:(0,s.jsxs)(n.z,{type:"submit",disabled:o,className:"min-w-[120px]",children:[o?(0,s.jsx)(u.Z,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsx)(f.Z,{className:"mr-2 h-4 w-4"}),"Salvar Altera\xe7\xf5es"]})})]})})]})}},5671:function(e,a,t){"use strict";t.d(a,{Ol:function(){return d},SZ:function(){return c},Zb:function(){return n},aY:function(){return o},eW:function(){return m},ll:function(){return i}});var s=t(3827),r=t(4090),l=t(2169);let n=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});n.displayName="Card";let d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...r})});d.displayName="CardHeader";let i=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("h3",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});i.displayName="CardTitle";let c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("p",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",t),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("p-6 pt-0",t),...r})});o.displayName="CardContent";let m=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",t),...r})});m.displayName="CardFooter"},2782:function(e,a,t){"use strict";t.d(a,{I:function(){return n}});var s=t(3827),r=t(4090),l=t(2169);let n=r.forwardRef((e,a)=>{let{className:t,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:(0,l.cn)("flex h-11 w-full rounded-md border border-input bg-background px-4 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all",t),ref:a,...n})});n.displayName="Input"}},function(e){e.O(0,[55,380,861,971,69,744],function(){return e(e.s=2494)}),_N_E=e.O()}]);