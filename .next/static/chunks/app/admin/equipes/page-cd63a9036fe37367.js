(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[85],{6665:function(e,s,a){Promise.resolve().then(a.t.bind(a,5250,23)),Promise.resolve().then(a.bind(a,5356)),Promise.resolve().then(a.bind(a,4861))},9580:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});let r=(0,a(4999).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},489:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});let r=(0,a(4999).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},2235:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});let r=(0,a(4999).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5356:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return N}});var r=a(3827),n=a(9542),t=a(3204),l=a(4090),i=a(5671),d=a(575),c=a(2782),o=a(3277),m=a(4999);let u=(0,m.Z)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var x=a(9580);let f=(0,m.Z)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var h=a(489),p=a(2235),g=a(7290),b=a(5369);function j(e){let{label:s="Adicionar Usu\xe1rio",icon:a=u}=e,{pending:t}=(0,n.useFormStatus)();return(0,r.jsx)(d.z,{type:"submit",disabled:t,className:"w-full md:w-auto min-w-[140px]",children:t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a,{className:"mr-2 h-4 w-4"}),s]})})}function v(){let{pending:e}=(0,n.useFormStatus)();return(0,r.jsx)(d.z,{type:"submit",className:"flex-1",disabled:e,children:e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):"Salvar Altera\xe7\xf5es"})}function N(e){let{equipes:s}=e,a=(0,l.useRef)(null),[m,x]=(0,l.useState)(null),[N,y]=(0,l.useState)(null),[k,w]=(0,n.useFormState)(async(e,s)=>{let r=await (0,t.jt)(e,s);if(r.success){var n;null===(n=a.current)||void 0===n||n.reset(),(0,g.A)(r.message||"Usu\xe1rio criado!","success")}else(0,g.A)(r.message||"Erro ao criar.","error");return r},null);async function C(e){if(!N)return;let s={name:e.get("name"),fullName:e.get("fullName"),phone:e.get("phone"),isAdmin:"true"===e.get("isAdmin")},a=e.get("password");if(a&&(s.password=a),!/^[a-zA-Z0-9]+$/.test(s.name)){(0,g.A)("Nome de usu\xe1rio inv\xe1lido (apenas letras e n\xfameros).","error");return}let r=await (0,t.kj)(N.id,s);r.success?(y(null),(0,g.A)("Usu\xe1rio atualizado!","success")):(0,g.A)(r.message||"Erro ao atualizar.","error")}async function A(){m&&(await (0,t.XP)(m.id),x(null),(0,g.A)("Usu\xe1rio removido.","success"))}let[z,Z]=(0,l.useState)("");return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[(0,r.jsx)(i.ll,{children:"Adicionar Novo Usu\xe1rio / Equipe"}),(0,r.jsx)(i.SZ,{children:"Crie uma conta de acesso para os t\xe9cnicos (equipes) ou administradores."})]}),(0,r.jsx)(i.aY,{children:(0,r.jsxs)("form",{ref:a,action:w,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium leading-none",children:"Nome de Usu\xe1rio (Login)"}),(0,r.jsx)(c.I,{name:"name",type:"text",placeholder:"ex: joaosilva",required:!0,className:z?"border-red-500":"",onChange:function(e){let s=e.target.value;s&&!/^[a-zA-Z0-9]+$/.test(s)?Z("Apenas letras e n\xfameros, sem espa\xe7os."):Z("")}}),z&&(0,r.jsx)("p",{className:"text-xs text-red-500",children:z})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium leading-none",children:"Senha"}),(0,r.jsx)(c.I,{name:"password",type:"text",placeholder:"Min. 6 caracteres",required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium leading-none",children:"Nome Completo"}),(0,r.jsx)(c.I,{name:"fullName",type:"text",placeholder:"Ex: Jo\xe3o da Silva"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium leading-none",children:"Telefone"}),(0,r.jsx)(c.I,{name:"phone",type:"text",placeholder:"(DD) 99999-9999"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium leading-none block",children:"Permiss\xe3o"}),(0,r.jsxs)("select",{name:"isAdmin",className:"h-10 w-full appearance-none rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[(0,r.jsx)("option",{value:"false",children:"Equipe / T\xe9cnico"}),(0,r.jsx)("option",{value:"true",children:"Administrador"})]})]})]}),(0,r.jsx)("div",{className:"flex justify-end pt-2",children:(0,r.jsx)(j,{label:"Criar Usu\xe1rio",icon:u})})]})})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsx)(i.Ol,{children:(0,r.jsx)(i.ll,{children:"Usu\xe1rios Cadastrados"})}),(0,r.jsx)(i.aY,{children:(0,r.jsx)("div",{className:"rounded-md border",children:(0,r.jsxs)("table",{className:"w-full text-sm",children:[(0,r.jsx)("thead",{className:"bg-muted/50 border-b",children:(0,r.jsxs)("tr",{className:"text-left",children:[(0,r.jsx)("th",{className:"h-12 px-4 align-middle font-medium text-muted-foreground",children:"Usu\xe1rio"}),(0,r.jsx)("th",{className:"h-12 px-4 align-middle font-medium text-muted-foreground",children:"Nome Completo"}),(0,r.jsx)("th",{className:"h-12 px-4 align-middle font-medium text-muted-foreground",children:"Telefone"}),(0,r.jsx)("th",{className:"h-12 px-4 align-middle font-medium text-muted-foreground w-32",children:"N\xedvel"}),(0,r.jsx)("th",{className:"h-12 px-4 align-middle font-medium text-muted-foreground text-right",children:"A\xe7\xf5es"})]})}),(0,r.jsx)("tbody",{children:s.map(e=>(0,r.jsxs)("tr",{className:"border-b transition-colors hover:bg-muted/50",children:[(0,r.jsxs)("td",{className:"p-4 align-middle font-medium",children:[e.name,(0,r.jsx)("div",{className:"text-xs text-muted-foreground md:hidden",children:e.fullName})]}),(0,r.jsx)("td",{className:"p-4 align-middle hidden md:table-cell",children:e.fullName||"-"}),(0,r.jsx)("td",{className:"p-4 align-middle hidden md:table-cell",children:e.phone?(0,r.jsxs)("a",{href:"https://wa.me/".concat(e.phone.replace(/\D/g,"")),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-muted-foreground hover:text-green-600 transition-colors group",children:[(0,r.jsx)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"h-6 w-6 text-green-500/80 group-hover:text-green-600 group-hover:scale-110 transition-all",children:(0,r.jsx)("path",{d:"M12.031 6.172c-3.181 0-5.767 2.586-5.768 5.766-.001 1.298.38 2.27 1.019 3.287l-.711 2.598 2.664-.698c.969.585 1.85.892 2.796.892 3.183 0 5.768-2.586 5.768-5.766-5e-4-3.18-2.585-5.779-5.768-5.779zm0 10c-.793 0-1.551-.237-2.181-.61l-.147-.091-1.492.391.398-1.455-.098-.168c-.461-.795-.71-1.579-.711-2.301.001-2.327 1.896-4.225 4.231-4.225 2.329 0 4.226 1.896 4.226 4.227 0 2.331-1.899 4.232-4.226 4.232zm2.149-3.297c-.113-.057-.667-.329-.771-.367-.103-.038-.179-.057-.254.057-.076.114-.291.368-.358.444-.067.076-.134.086-.247.029-.115-.057-.49-.181-.925-.568-.34-.303-.57-.677-.635-.792-.067-.114-.007-.176.05-.233.05-.05.113-.133.171-.199.057-.067.075-.114.113-.19.038-.076.019-.143-.01-.199-.029-.057-.254-.613-.349-.838-.093-.221-.188-.191-.257-.195l-.219-.005c-.076 0-.199.028-.303.143-.105.114-.403.394-.403.96 0 .567.412 1.115.47 1.191.058.077.81 1.238 1.965 1.737.954.412.954.275 1.309.256.354-.019 1.115-.456 1.229-.896.114-.44.114-.818.08-.875-.034-.057-.125-.091-.238-.148z"})}),e.phone]}):(0,r.jsx)("span",{className:"text-muted-foreground",children:"-"})}),(0,r.jsx)("td",{className:"p-4 align-middle",children:e.isAdmin?(0,r.jsx)(o.C,{className:"bg-slate-900",children:"Admin"}):(0,r.jsx)(o.C,{variant:"secondary",children:"Equipe"})}),(0,r.jsx)("td",{className:"p-4 align-middle text-right",children:(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)(d.z,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-600 hover:text-blue-700 hover:bg-blue-50",onClick:()=>y(e),children:(0,r.jsx)(f,{className:"h-4 w-4"})}),(0,r.jsx)(d.z,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>x({id:e.id,name:e.name}),children:(0,r.jsx)(h.Z,{className:"h-4 w-4"})})]})})]},e.id))})]})})})]}),N&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:(0,r.jsxs)(i.Zb,{className:"w-full max-w-md relative shadow-xl",children:[(0,r.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between pb-2",children:[(0,r.jsx)(i.ll,{children:"Editar Usu\xe1rio"}),(0,r.jsx)(d.z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>y(null),children:(0,r.jsx)(p.Z,{className:"h-4 w-4"})})]}),(0,r.jsx)(i.aY,{children:(0,r.jsxs)("form",{action:C,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium leading-none",children:"Nome de Usu\xe1rio"}),(0,r.jsx)(c.I,{name:"name",defaultValue:N.name,required:!0,pattern:"[a-zA-Z0-9]+",title:"Apenas letras e n\xfameros, sem espa\xe7os"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium leading-none",children:"Nome Completo"}),(0,r.jsx)(c.I,{name:"fullName",defaultValue:N.fullName})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium leading-none",children:"Telefone"}),(0,r.jsx)(c.I,{name:"phone",defaultValue:N.phone})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium leading-none",children:"Senha"}),(0,r.jsx)(c.I,{name:"password",type:"text",placeholder:"Nova senha (deixe em branco para manter)"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium leading-none",children:"Permiss\xe3o"}),(0,r.jsxs)("select",{name:"isAdmin",defaultValue:String(N.isAdmin),className:"h-10 w-full appearance-none rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[(0,r.jsx)("option",{value:"false",children:"Equipe / Respons\xe1vel"}),(0,r.jsx)("option",{value:"true",children:"Administrador"})]})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,r.jsx)(d.z,{type:"button",variant:"outline",className:"flex-1",onClick:()=>y(null),children:"Cancelar"}),(0,r.jsx)(v,{})]})]})})]})}),(0,r.jsx)(b.s,{open:!!m,title:"Remover Usu\xe1rio",message:'Tem certeza que deseja remover "'.concat(null==m?void 0:m.name,'"? Esta a\xe7\xe3o n\xe3o pode ser desfeita.'),variant:"danger",confirmLabel:"Remover",onConfirm:A,onCancel:()=>x(null)})]})}},3277:function(e,s,a){"use strict";a.d(s,{C:function(){return t}});var r=a(3827);a(4090);var n=a(2169);function t(e){let{className:s,variant:a="default",...t}=e;return(0,r.jsx)("div",{className:(0,n.cn)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-emerald-500/50 bg-transparent text-emerald-600 dark:text-emerald-400 dark:border-emerald-500/30",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600",orange:"border-transparent bg-orange-500 text-white hover:bg-orange-600","light-green":"border-emerald-500/30 bg-transparent text-emerald-600 dark:text-emerald-400/80 dark:border-emerald-500/20"}[a],s),...t})}},5671:function(e,s,a){"use strict";a.d(s,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return l},aY:function(){return o},eW:function(){return m},ll:function(){return d}});var r=a(3827),n=a(4090),t=a(2169);let l=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,t.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...n})});l.displayName="Card";let i=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,t.cn)("flex flex-col space-y-1.5 p-6",a),...n})});i.displayName="CardHeader";let d=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,r.jsx)("h3",{ref:s,className:(0,t.cn)("text-2xl font-semibold leading-none tracking-tight",a),...n})});d.displayName="CardTitle";let c=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,r.jsx)("p",{ref:s,className:(0,t.cn)("text-sm text-muted-foreground",a),...n})});c.displayName="CardDescription";let o=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,t.cn)("p-6 pt-0",a),...n})});o.displayName="CardContent";let m=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,t.cn)("flex items-center p-6 pt-0",a),...n})});m.displayName="CardFooter"},5369:function(e,s,a){"use strict";a.d(s,{s:function(){return i}});var r=a(3827),n=a(5671),t=a(575),l=a(9724);function i(e){let{open:s,title:a,message:i,confirmLabel:d="Confirmar",cancelLabel:c="Cancelar",variant:o="default",onConfirm:m,onCancel:u}=e;return s?(0,r.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:(0,r.jsx)(n.Zb,{className:"w-full max-w-sm shadow-2xl dark:bg-slate-900 dark:border-slate-700",children:(0,r.jsxs)("div",{className:"p-6 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"p-2 rounded-full shrink-0 ".concat("danger"===o?"bg-red-100 dark:bg-red-900/30":"bg-blue-100 dark:bg-blue-900/30"),children:(0,r.jsx)(l.Z,{className:"h-5 w-5 ".concat("danger"===o?"text-red-600 dark:text-red-400":"text-blue-600 dark:text-blue-400")})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold text-slate-900 dark:text-slate-100",children:a}),(0,r.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:i})]})]}),(0,r.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,r.jsx)(t.z,{variant:"outline",onClick:u,className:"dark:border-slate-600 dark:text-slate-300",children:c}),(0,r.jsx)(t.z,{variant:"danger"===o?"destructive":"default",onClick:m,children:d})]})]})})}):null}},2782:function(e,s,a){"use strict";a.d(s,{I:function(){return l}});var r=a(3827),n=a(4090),t=a(2169);let l=n.forwardRef((e,s)=>{let{className:a,type:n,...l}=e;return(0,r.jsx)("input",{type:n,className:(0,t.cn)("flex h-11 w-full rounded-md border border-input bg-background px-4 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all",a),ref:s,...l})});l.displayName="Input"},7290:function(e,s,a){"use strict";a.d(s,{A:function(){return n}});var r=a(6288);function n(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";switch(s){case"success":r.Am.success(e);break;case"error":r.Am.error(e);break;case"warning":r.Am.warning(e);break;default:r.Am.info(e)}}}},function(e){e.O(0,[55,380,288,861,971,69,744],function(){return e(e.s=6665)}),_N_E=e.O()}]);