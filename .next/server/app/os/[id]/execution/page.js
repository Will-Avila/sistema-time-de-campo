(()=>{var e={};e.id=48,e.ids=[48],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},73292:e=>{"use strict";e.exports=require("fs/promises")},71017:e=>{"use strict";e.exports=require("path")},62353:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>f,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var a=r(50482),n=r(69108),s=r(62563),o=r.n(s),i=r(68300),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c=["",{children:["os",{children:["[id]",{children:["execution",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,68394)),"C:\\Programas\\PROJETOS\\sistema-time-de-campo\\src\\app\\os\\[id]\\execution\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,49223)),"C:\\Programas\\PROJETOS\\sistema-time-de-campo\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,92793)),"C:\\Programas\\PROJETOS\\sistema-time-de-campo\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Programas\\PROJETOS\\sistema-time-de-campo\\src\\app\\os\\[id]\\execution\\page.tsx"],u="/os/[id]/execution/page",f={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/os/[id]/execution/page",pathname:"/os/[id]/execution",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},32397:(e,t,r)=>{let a={"2dd604a4fa171d5bf4edd119607f12882f2f1233":()=>Promise.resolve().then(r.bind(r,13398)).then(e=>e.getEquipes),"3a7a815bcde402ec80a76d4915ddaa24dd2697a6":()=>Promise.resolve().then(r.bind(r,13398)).then(e=>e.createEquipe),bb9004a81e2ec4420b2b97debd5f27e567e92ef6:()=>Promise.resolve().then(r.bind(r,13398)).then(e=>e.updateProfile),c5f7132601121f48314d1a51ecac279117f08ff6:()=>Promise.resolve().then(r.bind(r,13398)).then(e=>e.updatePreferences),c98ca564b4813ac5836f5e16d8b41e62d1cf9860:()=>Promise.resolve().then(r.bind(r,13398)).then(e=>e.deleteEquipe),e0bf2b8da39f29f7764053adebc46527dec3237e:()=>Promise.resolve().then(r.bind(r,13398)).then(e=>e.updateEquipe),"4f7cc3295bc1862da856a082439e474acd72ddb0":()=>Promise.resolve().then(r.bind(r,67778)).then(e=>e.logout),bbec7576f1f50640a4a678e3194e37400ea45963:()=>Promise.resolve().then(r.bind(r,67778)).then(e=>e.login),"22c53d6cc54bce46a621cc2c18c29a4b6151f7eb":()=>Promise.resolve().then(r.bind(r,36051)).then(e=>e.createNotification),"531833ed2258d48c2a40d41cd7d226d4ccc024cc":()=>Promise.resolve().then(r.bind(r,36051)).then(e=>e.markAsRead),"84b4112fe213bb4e51d524390b924583a28cf4a6":()=>Promise.resolve().then(r.bind(r,36051)).then(e=>e.getUnreadNotifications),a097c09bcedad3830c63ef8bf1297807d0616abc:()=>Promise.resolve().then(r.bind(r,36051)).then(e=>e.markAllAsRead),"6da7003579056233712394fa6e028a7f2a439d1e":()=>Promise.resolve().then(r.bind(r,33998)).then(e=>e.updateChecklistItem),"7d92606c6af10ca17002dfa0e1f2af0a017ffc8d":()=>Promise.resolve().then(r.bind(r,33998)).then(e=>e.uploadChecklistPhotos),b06f5a4d9400fc918d8a774ad44e361b29420175:()=>Promise.resolve().then(r.bind(r,33998)).then(e=>e.deleteChecklistPhoto),db6ecb818f221f647e26e6f7758067e75abe9e22:()=>Promise.resolve().then(r.bind(r,33998)).then(e=>e.resetChecklistItem)};async function n(e,...t){return(await a[e]()).apply(null,t)}e.exports={"2dd604a4fa171d5bf4edd119607f12882f2f1233":n.bind(null,"2dd604a4fa171d5bf4edd119607f12882f2f1233"),"3a7a815bcde402ec80a76d4915ddaa24dd2697a6":n.bind(null,"3a7a815bcde402ec80a76d4915ddaa24dd2697a6"),bb9004a81e2ec4420b2b97debd5f27e567e92ef6:n.bind(null,"bb9004a81e2ec4420b2b97debd5f27e567e92ef6"),c5f7132601121f48314d1a51ecac279117f08ff6:n.bind(null,"c5f7132601121f48314d1a51ecac279117f08ff6"),c98ca564b4813ac5836f5e16d8b41e62d1cf9860:n.bind(null,"c98ca564b4813ac5836f5e16d8b41e62d1cf9860"),e0bf2b8da39f29f7764053adebc46527dec3237e:n.bind(null,"e0bf2b8da39f29f7764053adebc46527dec3237e"),"4f7cc3295bc1862da856a082439e474acd72ddb0":n.bind(null,"4f7cc3295bc1862da856a082439e474acd72ddb0"),bbec7576f1f50640a4a678e3194e37400ea45963:n.bind(null,"bbec7576f1f50640a4a678e3194e37400ea45963"),"22c53d6cc54bce46a621cc2c18c29a4b6151f7eb":n.bind(null,"22c53d6cc54bce46a621cc2c18c29a4b6151f7eb"),"531833ed2258d48c2a40d41cd7d226d4ccc024cc":n.bind(null,"531833ed2258d48c2a40d41cd7d226d4ccc024cc"),"84b4112fe213bb4e51d524390b924583a28cf4a6":n.bind(null,"84b4112fe213bb4e51d524390b924583a28cf4a6"),a097c09bcedad3830c63ef8bf1297807d0616abc:n.bind(null,"a097c09bcedad3830c63ef8bf1297807d0616abc"),"6da7003579056233712394fa6e028a7f2a439d1e":n.bind(null,"6da7003579056233712394fa6e028a7f2a439d1e"),"7d92606c6af10ca17002dfa0e1f2af0a017ffc8d":n.bind(null,"7d92606c6af10ca17002dfa0e1f2af0a017ffc8d"),b06f5a4d9400fc918d8a774ad44e361b29420175:n.bind(null,"b06f5a4d9400fc918d8a774ad44e361b29420175"),db6ecb818f221f647e26e6f7758067e75abe9e22:n.bind(null,"db6ecb818f221f647e26e6f7758067e75abe9e22")}},74375:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,61476,23)),Promise.resolve().then(r.bind(r,90541)),Promise.resolve().then(r.bind(r,85740))},84292:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(51091).Z)("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},80508:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(51091).Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},28765:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(51091).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},90541:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>tC});var a,n,s=r(95344),o=r(3729),i=r.t(o,2),l=r(84292),c=r(28765),d=r(46540);r(13664);var u=r(28371),f=(0,u.$)("7d92606c6af10ca17002dfa0e1f2af0a017ffc8d"),m=(0,u.$)("6da7003579056233712394fa6e028a7f2a439d1e"),p=(0,u.$)("b06f5a4d9400fc918d8a774ad44e361b29420175"),h=(0,u.$)("db6ecb818f221f647e26e6f7758067e75abe9e22"),b=r(89410),g=r(23673),v=r(51765),x=r(51091);let y=(0,x.Z)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var N=r(80508);let w=(0,x.Z)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),E=(0,x.Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var j=r(38271);let k=(0,x.Z)("undo-2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);var P=r(5094),C=r(3923),O=r(72032),S=r(30026);function A(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),!1===r||!a.defaultPrevented)return t?.(a)}}function I(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function D(...e){return t=>{let r=!1,a=e.map(e=>{let a=I(e,t);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let t=0;t<a.length;t++){let r=a[t];"function"==typeof r?r():I(e[t],null)}}}}function R(...e){return o.useCallback(D(...e),e)}var T=globalThis?.document?o.useLayoutEffect:()=>{},M=i[" useId ".trim().toString()]||(()=>void 0),q=0;function $(e){let[t,r]=o.useState(M());return T(()=>{e||r(e=>e??String(q++))},[e]),e||(t?`radix-${t}`:"")}var _=i[" useInsertionEffect ".trim().toString()]||T,L=(Symbol("RADIX:SYNC_STATE"),r(81202));function F(e){let t=function(e){let t=o.forwardRef((e,t)=>{let{children:r,...a}=e;if(o.isValidElement(r)){let e,n;let s=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref,i=function(e,t){let r={...t};for(let a in t){let n=e[a],s=t[a];/^on[A-Z]/.test(a)?n&&s?r[a]=(...e)=>{let t=s(...e);return n(...e),t}:n&&(r[a]=n):"style"===a?r[a]={...n,...s}:"className"===a&&(r[a]=[n,s].filter(Boolean).join(" "))}return{...e,...r}}(a,r.props);return r.type!==o.Fragment&&(i.ref=t?D(t,s):s),o.cloneElement(r,i)}return o.Children.count(r)>1?o.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=o.forwardRef((e,r)=>{let{children:a,...n}=e,i=o.Children.toArray(a),l=i.find(W);if(l){let e=l.props.children,a=i.map(t=>t!==l?t:o.Children.count(e)>1?o.Children.only(null):o.isValidElement(e)?e.props.children:null);return(0,s.jsx)(t,{...n,ref:r,children:o.isValidElement(e)?o.cloneElement(e,void 0,a):null})}return(0,s.jsx)(t,{...n,ref:r,children:a})});return r.displayName=`${e}.Slot`,r}var z=Symbol("radix.slottable");function W(e){return o.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===z}var Z=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=F(`Primitive.${t}`),a=o.forwardRef((e,a)=>{let{asChild:n,...o}=e,i=n?r:t;return(0,s.jsx)(i,{...o,ref:a})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function U(e){let t=o.useRef(e);return o.useEffect(()=>{t.current=e}),o.useMemo(()=>(...e)=>t.current?.(...e),[])}var B="dismissableLayer.update",H=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),K=o.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...u}=e,f=o.useContext(H),[m,p]=o.useState(null),h=m?.ownerDocument??globalThis?.document,[,b]=o.useState({}),g=R(t,e=>p(e)),v=Array.from(f.layers),[x]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(x),N=m?v.indexOf(m):-1,w=f.layersWithOutsidePointerEventsDisabled.size>0,E=N>=y,j=function(e,t=globalThis?.document){let r=U(e),a=o.useRef(!1),n=o.useRef(()=>{});return o.useEffect(()=>{let e=e=>{if(e.target&&!a.current){let a=function(){V("dismissableLayer.pointerDownOutside",r,s,{discrete:!0})},s={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",n.current),n.current=a,t.addEventListener("click",n.current,{once:!0})):a()}else t.removeEventListener("click",n.current);a.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",e),t.removeEventListener("click",n.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}(e=>{let t=e.target,r=[...f.branches].some(e=>e.contains(t));!E||r||(i?.(e),c?.(e),e.defaultPrevented||d?.())},h),k=function(e,t=globalThis?.document){let r=U(e),a=o.useRef(!1);return o.useEffect(()=>{let e=e=>{e.target&&!a.current&&V("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}(e=>{let t=e.target;[...f.branches].some(e=>e.contains(t))||(l?.(e),c?.(e),e.defaultPrevented||d?.())},h);return function(e,t=globalThis?.document){let r=U(e);o.useEffect(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{N!==f.layers.size-1||(n?.(e),!e.defaultPrevented&&d&&(e.preventDefault(),d()))},h),o.useEffect(()=>{if(m)return r&&(0===f.layersWithOutsidePointerEventsDisabled.size&&(a=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),G(),()=>{r&&1===f.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=a)}},[m,h,r,f]),o.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),G())},[m,f]),o.useEffect(()=>{let e=()=>b({});return document.addEventListener(B,e),()=>document.removeEventListener(B,e)},[]),(0,s.jsx)(Z.div,{...u,ref:g,style:{pointerEvents:w?E?"auto":"none":void 0,...e.style},onFocusCapture:A(e.onFocusCapture,k.onFocusCapture),onBlurCapture:A(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:A(e.onPointerDownCapture,j.onPointerDownCapture)})});function G(){let e=new CustomEvent(B);document.dispatchEvent(e)}function V(e,t,r,{discrete:a}){let n=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});(t&&n.addEventListener(e,t,{once:!0}),a)?n&&L.flushSync(()=>n.dispatchEvent(s)):n.dispatchEvent(s)}K.displayName="DismissableLayer",o.forwardRef((e,t)=>{let r=o.useContext(H),a=o.useRef(null),n=R(t,a);return o.useEffect(()=>{let e=a.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,s.jsx)(Z.div,{...e,ref:n})}).displayName="DismissableLayerBranch";var J="focusScope.autoFocusOnMount",X="focusScope.autoFocusOnUnmount",Y={bubbles:!1,cancelable:!0},Q=o.forwardRef((e,t)=>{let{loop:r=!1,trapped:a=!1,onMountAutoFocus:n,onUnmountAutoFocus:i,...l}=e,[c,d]=o.useState(null),u=U(n),f=U(i),m=o.useRef(null),p=R(t,e=>d(e)),h=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(a){let e=function(e){if(h.paused||!c)return;let t=e.target;c.contains(t)?m.current=t:er(m.current,{select:!0})},t=function(e){if(h.paused||!c)return;let t=e.relatedTarget;null===t||c.contains(t)||er(m.current,{select:!0})};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let r=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&er(c)});return c&&r.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[a,c,h.paused]),o.useEffect(()=>{if(c){ea.add(h);let e=document.activeElement;if(!c.contains(e)){let t=new CustomEvent(J,Y);c.addEventListener(J,u),c.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let r=document.activeElement;for(let a of e)if(er(a,{select:t}),document.activeElement!==r)return}(ee(c).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&er(c))}return()=>{c.removeEventListener(J,u),setTimeout(()=>{let t=new CustomEvent(X,Y);c.addEventListener(X,f),c.dispatchEvent(t),t.defaultPrevented||er(e??document.body,{select:!0}),c.removeEventListener(X,f),ea.remove(h)},0)}}},[c,u,f,h]);let b=o.useCallback(e=>{if(!r&&!a||h.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){let t=e.currentTarget,[a,s]=function(e){let t=ee(e);return[et(t,e),et(t.reverse(),e)]}(t);a&&s?e.shiftKey||n!==s?e.shiftKey&&n===a&&(e.preventDefault(),r&&er(s,{select:!0})):(e.preventDefault(),r&&er(a,{select:!0})):n===t&&e.preventDefault()}},[r,a,h.paused]);return(0,s.jsx)(Z.div,{tabIndex:-1,...l,ref:p,onKeyDown:b})});function ee(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function et(e,t){for(let r of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(r,{upTo:t}))return r}function er(e,{select:t=!1}={}){if(e&&e.focus){var r;let a=document.activeElement;e.focus({preventScroll:!0}),e!==a&&(r=e)instanceof HTMLInputElement&&"select"in r&&t&&e.select()}}Q.displayName="FocusScope";var ea=function(){let e=[];return{add(t){let r=e[0];t!==r&&r?.pause(),(e=en(e,t)).unshift(t)},remove(t){e=en(e,t),e[0]?.resume()}}}();function en(e,t){let r=[...e],a=r.indexOf(t);return -1!==a&&r.splice(a,1),r}var es=o.forwardRef((e,t)=>{let{container:r,...a}=e,[n,i]=o.useState(!1);T(()=>i(!0),[]);let l=r||n&&globalThis?.document?.body;return l?L.createPortal((0,s.jsx)(Z.div,{...a,ref:t}),l):null});es.displayName="Portal";var eo=e=>{let{present:t,children:r}=e,a=function(e){var t,r;let[a,n]=o.useState(),s=o.useRef(null),i=o.useRef(e),l=o.useRef("none"),[c,d]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},o.useReducer((e,t)=>r[e][t]??e,t));return o.useEffect(()=>{let e=ei(s.current);l.current="mounted"===c?e:"none"},[c]),T(()=>{let t=s.current,r=i.current;if(r!==e){let a=l.current,n=ei(t);e?d("MOUNT"):"none"===n||t?.display==="none"?d("UNMOUNT"):r&&a!==n?d("ANIMATION_OUT"):d("UNMOUNT"),i.current=e}},[e,d]),T(()=>{if(a){let e;let t=a.ownerDocument.defaultView??window,r=r=>{let n=ei(s.current).includes(CSS.escape(r.animationName));if(r.target===a&&n&&(d("ANIMATION_END"),!i.current)){let r=a.style.animationFillMode;a.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===a.style.animationFillMode&&(a.style.animationFillMode=r)})}},n=e=>{e.target===a&&(l.current=ei(s.current))};return a.addEventListener("animationstart",n),a.addEventListener("animationcancel",r),a.addEventListener("animationend",r),()=>{t.clearTimeout(e),a.removeEventListener("animationstart",n),a.removeEventListener("animationcancel",r),a.removeEventListener("animationend",r)}}d("ANIMATION_END")},[a,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:o.useCallback(e=>{s.current=e?getComputedStyle(e):null,n(e)},[])}}(t),n="function"==typeof r?r({present:a.isPresent}):o.Children.only(r),s=R(a.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(n));return"function"==typeof r||a.isPresent?o.cloneElement(n,{ref:s}):null};function ei(e){return e?.animationName||"none"}eo.displayName="Presence";var el=0;function ec(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ed=function(){return(ed=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function eu(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r}Object.create,Object.create;var ef=("function"==typeof SuppressedError&&SuppressedError,"right-scroll-bar-position"),em="width-before-scroll-bar";function ep(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var eh=o.useEffect,eb=new WeakMap;function eg(e){return e}var ev=function(e){void 0===e&&(e={});var t,r,a,n=(void 0===t&&(t=eg),r=[],a=!1,{read:function(){if(a)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:null},useMedium:function(e){var n=t(e,a);return r.push(n),function(){r=r.filter(function(e){return e!==n})}},assignSyncMedium:function(e){for(a=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){a=!0;var t=[];if(r.length){var n=r;r=[],n.forEach(e),t=r}var s=function(){var r=t;t=[],r.forEach(e)},o=function(){return Promise.resolve().then(s)};o(),r={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),r}}}});return n.options=ed({async:!0,ssr:!1},e),n}(),ex=function(){},ey=o.forwardRef(function(e,t){var r,a,n,s,i=o.useRef(null),l=o.useState({onScrollCapture:ex,onWheelCapture:ex,onTouchMoveCapture:ex}),c=l[0],d=l[1],u=e.forwardProps,f=e.children,m=e.className,p=e.removeScrollBar,h=e.enabled,b=e.shards,g=e.sideCar,v=e.noRelative,x=e.noIsolation,y=e.inert,N=e.allowPinchZoom,w=e.as,E=e.gapMode,j=eu(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=(r=[i,t],a=function(e){return r.forEach(function(t){return ep(t,e)})},(n=(0,o.useState)(function(){return{value:null,callback:a,facade:{get current(){return n.value},set current(value){var e=n.value;e!==value&&(n.value=value,n.callback(value,e))}}}})[0]).callback=a,s=n.facade,eh(function(){var e=eb.get(s);if(e){var t=new Set(e),a=new Set(r),n=s.current;t.forEach(function(e){a.has(e)||ep(e,null)}),a.forEach(function(e){t.has(e)||ep(e,n)})}eb.set(s,r)},[r]),s),P=ed(ed({},j),c);return o.createElement(o.Fragment,null,h&&o.createElement(g,{sideCar:ev,removeScrollBar:p,shards:b,noRelative:v,noIsolation:x,inert:y,setCallbacks:d,allowPinchZoom:!!N,lockRef:i,gapMode:E}),u?o.cloneElement(o.Children.only(f),ed(ed({},P),{ref:k})):o.createElement(void 0===w?"div":w,ed({},P,{className:m,ref:k}),f))});ey.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},ey.classNames={fullWidth:em,zeroRight:ef};var eN=function(e){var t=e.sideCar,r=eu(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw Error("Sidecar medium not found");return o.createElement(a,ed({},r))};eN.isSideCarExport=!0;var ew=function(){var e=0,t=null;return{add:function(a){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=n||r.nc;return t&&e.setAttribute("nonce",t),e}())){var s,o;(s=t).styleSheet?s.styleSheet.cssText=a:s.appendChild(document.createTextNode(a)),o=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(o)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},eE=function(){var e=ew();return function(t,r){o.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},ej=function(){var e=eE();return function(t){return e(t.styles,t.dynamic),null}},ek={left:0,top:0,right:0,gap:0},eP=ej(),eC="data-scroll-locked",eO=function(e,t,r,a){var n=e.left,s=e.top,o=e.right,i=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(a,";\n   padding-right: ").concat(i,"px ").concat(a,";\n  }\n  body[").concat(eC,"] {\n    overflow: hidden ").concat(a,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(a,";"),"margin"===r&&"\n    padding-left: ".concat(n,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(i,"px ").concat(a,";\n    "),"padding"===r&&"padding-right: ".concat(i,"px ").concat(a,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(ef," {\n    right: ").concat(i,"px ").concat(a,";\n  }\n  \n  .").concat(em," {\n    margin-right: ").concat(i,"px ").concat(a,";\n  }\n  \n  .").concat(ef," .").concat(ef," {\n    right: 0 ").concat(a,";\n  }\n  \n  .").concat(em," .").concat(em," {\n    margin-right: 0 ").concat(a,";\n  }\n  \n  body[").concat(eC,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(i,"px;\n  }\n")},eS=function(){var e=parseInt(document.body.getAttribute(eC)||"0",10);return isFinite(e)?e:0},eA=function(){o.useEffect(function(){return document.body.setAttribute(eC,(eS()+1).toString()),function(){var e=eS()-1;e<=0?document.body.removeAttribute(eC):document.body.setAttribute(eC,e.toString())}},[])},eI=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,n=void 0===a?"margin":a;eA();var s=o.useMemo(function(){return ek},[n]);return o.createElement(eP,{styles:eO(s,!t,n,r?"":"!important")})},eD=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&!(r.overflowY===r.overflowX&&"TEXTAREA"!==e.tagName&&"visible"===r[t])},eR=function(e,t){var r=t.ownerDocument,a=t;do{if("undefined"!=typeof ShadowRoot&&a instanceof ShadowRoot&&(a=a.host),eT(e,a)){var n=eM(e,a);if(n[1]>n[2])return!0}a=a.parentNode}while(a&&a!==r.body);return!1},eT=function(e,t){return"v"===e?eD(t,"overflowY"):eD(t,"overflowX")},eM=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},eq=function(e,t,r,a,n){var s,o=(s=window.getComputedStyle(t).direction,"h"===e&&"rtl"===s?-1:1),i=o*a,l=r.target,c=t.contains(l),d=!1,u=i>0,f=0,m=0;do{if(!l)break;var p=eM(e,l),h=p[0],b=p[1]-p[2]-o*h;(h||b)&&eT(e,l)&&(f+=b,m+=h);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return u&&(n&&1>Math.abs(f)||!n&&i>f)?d=!0:!u&&(n&&1>Math.abs(m)||!n&&-i>m)&&(d=!0),d},e$=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},e_=function(e){return[e.deltaX,e.deltaY]},eL=function(e){return e&&"current"in e?e.current:e},eF=0,ez=[];let eW=(ev.useMedium(function(e){var t=o.useRef([]),r=o.useRef([0,0]),a=o.useRef(),n=o.useState(eF++)[0],s=o.useState(ej)[0],i=o.useRef(e);o.useEffect(function(){i.current=e},[e]),o.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var t=(function(e,t,r){if(r||2==arguments.length)for(var a,n=0,s=t.length;n<s;n++)!a&&n in t||(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))})([e.lockRef.current],(e.shards||[]).map(eL),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var l=o.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!i.current.allowPinchZoom;var n,s=e$(e),o=r.current,l="deltaX"in e?e.deltaX:o[0]-s[0],c="deltaY"in e?e.deltaY:o[1]-s[1],d=e.target,u=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var f=window.getSelection(),m=f&&f.anchorNode;if(m&&(m===d||m.contains(d)))return!1;var p=eR(u,d);if(!p)return!0;if(p?n=u:(n="v"===u?"h":"v",p=eR(u,d)),!p)return!1;if(!a.current&&"changedTouches"in e&&(l||c)&&(a.current=n),!n)return!0;var h=a.current||n;return eq(h,t,e,"h"===h?l:c,!0)},[]),c=o.useCallback(function(e){if(ez.length&&ez[ez.length-1]===s){var r="deltaY"in e?e_(e):e$(e),a=t.current.filter(function(t){var a;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(a=t.delta)[0]===r[0]&&a[1]===r[1]})[0];if(a&&a.should){e.cancelable&&e.preventDefault();return}if(!a){var n=(i.current.shards||[]).map(eL).filter(Boolean).filter(function(t){return t.contains(e.target)});(n.length>0?l(e,n[0]):!i.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),d=o.useCallback(function(e,r,a,n){var s={name:e,delta:r,target:a,should:n,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(a)};t.current.push(s),setTimeout(function(){t.current=t.current.filter(function(e){return e!==s})},1)},[]),u=o.useCallback(function(e){r.current=e$(e),a.current=void 0},[]),f=o.useCallback(function(t){d(t.type,e_(t),t.target,l(t,e.lockRef.current))},[]),m=o.useCallback(function(t){d(t.type,e$(t),t.target,l(t,e.lockRef.current))},[]);o.useEffect(function(){return ez.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,!1),document.addEventListener("touchmove",c,!1),document.addEventListener("touchstart",u,!1),function(){ez=ez.filter(function(e){return e!==s}),document.removeEventListener("wheel",c,!1),document.removeEventListener("touchmove",c,!1),document.removeEventListener("touchstart",u,!1)}},[]);var p=e.removeScrollBar,h=e.inert;return o.createElement(o.Fragment,null,h?o.createElement(s,{styles:"\n  .block-interactivity-".concat(n," {pointer-events: none;}\n  .allow-interactivity-").concat(n," {pointer-events: all;}\n")}):null,p?o.createElement(eI,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}),eN);var eZ=o.forwardRef(function(e,t){return o.createElement(ey,ed({},e,{ref:t,sideCar:eW}))});eZ.classNames=ey.classNames;var eU=new WeakMap,eB=new WeakMap,eH={},eK=0,eG=function(e){return e&&(e.host||eG(e.parentNode))},eV=function(e,t,r,a){var n=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var r=eG(e);return r&&t.contains(r)?r:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});eH[r]||(eH[r]=new WeakMap);var s=eH[r],o=[],i=new Set,l=new Set(n),c=function(e){!e||i.has(e)||(i.add(e),c(e.parentNode))};n.forEach(c);var d=function(e){!e||l.has(e)||Array.prototype.forEach.call(e.children,function(e){if(i.has(e))d(e);else try{var t=e.getAttribute(a),n=null!==t&&"false"!==t,l=(eU.get(e)||0)+1,c=(s.get(e)||0)+1;eU.set(e,l),s.set(e,c),o.push(e),1===l&&n&&eB.set(e,!0),1===c&&e.setAttribute(r,"true"),n||e.setAttribute(a,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return d(t),i.clear(),eK++,function(){o.forEach(function(e){var t=eU.get(e)-1,n=s.get(e)-1;eU.set(e,t),s.set(e,n),t||(eB.has(e)||e.removeAttribute(a),eB.delete(e)),n||e.removeAttribute(r)}),--eK||(eU=new WeakMap,eU=new WeakMap,eB=new WeakMap,eH={})}},eJ=function(e,t,r){void 0===r&&(r="data-aria-hidden");var a,n=Array.from(Array.isArray(e)?e:[e]),s=t||(a=e,"undefined"==typeof document?null:(Array.isArray(a)?a[0]:a).ownerDocument.body);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),eV(n,s,r,"aria-hidden")):function(){return null}},eX="Dialog",[eY,eQ]=function(e,t=[]){let r=[],a=()=>{let t=r.map(e=>o.createContext(e));return function(r){let a=r?.[e]||t;return o.useMemo(()=>({[`__scope${e}`]:{...r,[e]:a}}),[r,a])}};return a.scopeName=e,[function(t,a){let n=o.createContext(a),i=r.length;r=[...r,a];let l=t=>{let{scope:r,children:a,...l}=t,c=r?.[e]?.[i]||n,d=o.useMemo(()=>l,Object.values(l));return(0,s.jsx)(c.Provider,{value:d,children:a})};return l.displayName=t+"Provider",[l,function(r,s){let l=s?.[e]?.[i]||n,c=o.useContext(l);if(c)return c;if(void 0!==a)return a;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=r.reduce((t,{useScope:r,scopeName:a})=>{let n=r(e)[`__scope${a}`];return{...t,...n}},{});return o.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}(a,...t)]}(eX),[e0,e1]=eY(eX),e2=e=>{let{__scopeDialog:t,children:r,open:a,defaultOpen:n,onOpenChange:i,modal:l=!0}=e,c=o.useRef(null),d=o.useRef(null),[u,f]=function({prop:e,defaultProp:t,onChange:r=()=>{},caller:a}){let[n,s,i]=function({defaultProp:e,onChange:t}){let[r,a]=o.useState(e),n=o.useRef(r),s=o.useRef(t);return _(()=>{s.current=t},[t]),o.useEffect(()=>{n.current!==r&&(s.current?.(r),n.current=r)},[r,n]),[r,a,s]}({defaultProp:t,onChange:r}),l=void 0!==e,c=l?e:n;{let t=o.useRef(void 0!==e);o.useEffect(()=>{let e=t.current;if(e!==l){let t=l?"controlled":"uncontrolled";console.warn(`${a} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=l},[l,a])}return[c,o.useCallback(t=>{if(l){let r="function"==typeof t?t(e):t;r!==e&&i.current?.(r)}else s(t)},[l,e,s,i])]}({prop:a,defaultProp:n??!1,onChange:i,caller:eX});return(0,s.jsx)(e0,{scope:t,triggerRef:c,contentRef:d,contentId:$(),titleId:$(),descriptionId:$(),open:u,onOpenChange:f,onOpenToggle:o.useCallback(()=>f(e=>!e),[f]),modal:l,children:r})};e2.displayName=eX;var e4="DialogTrigger";o.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,n=e1(e4,r),o=R(t,n.triggerRef);return(0,s.jsx)(Z.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":tm(n.open),...a,ref:o,onClick:A(e.onClick,n.onOpenToggle)})}).displayName=e4;var e5="DialogPortal",[e6,e3]=eY(e5,{forceMount:void 0}),e7=e=>{let{__scopeDialog:t,forceMount:r,children:a,container:n}=e,i=e1(e5,t);return(0,s.jsx)(e6,{scope:t,forceMount:r,children:o.Children.map(a,e=>(0,s.jsx)(eo,{present:r||i.open,children:(0,s.jsx)(es,{asChild:!0,container:n,children:e})}))})};e7.displayName=e5;var e8="DialogOverlay",e9=o.forwardRef((e,t)=>{let r=e3(e8,e.__scopeDialog),{forceMount:a=r.forceMount,...n}=e,o=e1(e8,e.__scopeDialog);return o.modal?(0,s.jsx)(eo,{present:a||o.open,children:(0,s.jsx)(tt,{...n,ref:t})}):null});e9.displayName=e8;var te=F("DialogOverlay.RemoveScroll"),tt=o.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,n=e1(e8,r);return(0,s.jsx)(eZ,{as:te,allowPinchZoom:!0,shards:[n.contentRef],children:(0,s.jsx)(Z.div,{"data-state":tm(n.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),tr="DialogContent",ta=o.forwardRef((e,t)=>{let r=e3(tr,e.__scopeDialog),{forceMount:a=r.forceMount,...n}=e,o=e1(tr,e.__scopeDialog);return(0,s.jsx)(eo,{present:a||o.open,children:o.modal?(0,s.jsx)(tn,{...n,ref:t}):(0,s.jsx)(ts,{...n,ref:t})})});ta.displayName=tr;var tn=o.forwardRef((e,t)=>{let r=e1(tr,e.__scopeDialog),a=o.useRef(null),n=R(t,r.contentRef,a);return o.useEffect(()=>{let e=a.current;if(e)return eJ(e)},[]),(0,s.jsx)(to,{...e,ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:A(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:A(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:A(e.onFocusOutside,e=>e.preventDefault())})}),ts=o.forwardRef((e,t)=>{let r=e1(tr,e.__scopeDialog),a=o.useRef(!1),n=o.useRef(!1);return(0,s.jsx)(to,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||r.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,"pointerdown"!==t.detail.originalEvent.type||(n.current=!0));let s=t.target;r.triggerRef.current?.contains(s)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&n.current&&t.preventDefault()}})}),to=o.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:i,...l}=e,c=e1(tr,r),d=o.useRef(null),u=R(t,d);return o.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ec()),document.body.insertAdjacentElement("beforeend",e[1]??ec()),el++,()=>{1===el&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),el--}},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Q,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:i,children:(0,s.jsx)(K,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":tm(c.open),...l,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(tg,{titleId:c.titleId}),(0,s.jsx)(tv,{contentRef:d,descriptionId:c.descriptionId})]})]})}),ti="DialogTitle",tl=o.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,n=e1(ti,r);return(0,s.jsx)(Z.h2,{id:n.titleId,...a,ref:t})});tl.displayName=ti;var tc="DialogDescription",td=o.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,n=e1(tc,r);return(0,s.jsx)(Z.p,{id:n.descriptionId,...a,ref:t})});td.displayName=tc;var tu="DialogClose",tf=o.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,n=e1(tu,r);return(0,s.jsx)(Z.button,{type:"button",...a,ref:t,onClick:A(e.onClick,()=>n.onOpenChange(!1))})});function tm(e){return e?"open":"closed"}tf.displayName=tu;var tp="DialogTitleWarning",[th,tb]=function(e,t){let r=o.createContext(t),a=e=>{let{children:t,...a}=e,n=o.useMemo(()=>a,Object.values(a));return(0,s.jsx)(r.Provider,{value:n,children:t})};return a.displayName=e+"Provider",[a,function(a){let n=o.useContext(r);if(n)return n;if(void 0!==t)return t;throw Error(`\`${a}\` must be used within \`${e}\``)}]}(tp,{contentName:tr,titleName:ti,docsSlug:"dialog"}),tg=({titleId:e})=>{let t=tb(tp),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return o.useEffect(()=>{e&&!document.getElementById(e)&&console.error(r)},[r,e]),null},tv=({contentRef:e,descriptionId:t})=>{let r=tb("DialogDescriptionWarning"),a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return o.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&!document.getElementById(t)&&console.warn(a)},[a,e,t]),null},tx=r(14513),ty=r(11453);let tN=o.forwardRef(({className:e,...t},r)=>s.jsx(e9,{ref:r,className:(0,ty.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));tN.displayName=e9.displayName;let tw=o.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsxs)(e7,{children:[s.jsx(tN,{}),(0,s.jsxs)(ta,{ref:a,className:(0,ty.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,(0,s.jsxs)(tf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(tx.Z,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));tw.displayName=ta.displayName;let tE=({className:e,...t})=>s.jsx("div",{className:(0,ty.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});tE.displayName="DialogHeader";let tj=o.forwardRef(({className:e,...t},r)=>s.jsx(tl,{ref:r,className:(0,ty.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));tj.displayName=tl.displayName,o.forwardRef(({className:e,...t},r)=>s.jsx(td,{ref:r,className:(0,ty.cn)("text-sm text-muted-foreground",e),...t})).displayName=td.displayName;var tk=r(2690);function tP({item:e,osId:t,equipeName:r,session:a}){let[n,i]=(0,o.useState)(!1),[l,c]=(0,o.useState)(!1),u="UNTOUCHED";e.done?u="DONE":"NOK"===e.status&&(u="PENDING");let[x,A]=(0,o.useState)(u),[I,D]=(0,o.useState)(!1),[R,T]=(0,o.useState)(!1),[M,q]=(0,o.useState)(!1);(0,o.useRef)(null);let[$,_]=(0,o.useState)(!1),[L,F]=(0,o.useState)(0),[z,W]=(0,o.useState)(e.potencia||""),[Z,U]=(0,o.useState)(e.obs||""),[B,H]=(0,o.useState)(e.certified||!1),K=a?.id===e.equipe,G=a?.isAdmin||K,[V,J]=(0,o.useState)(null);async function X(e){e.preventDefault(),D(!0);let t=new FormData(e.currentTarget);t.append("done","true"),t.append("certified",String(B));let r=await m(null,t);r.success?(A("DONE"),i(!1),(0,O.A)("Caixa conclu\xedda!","success")):(0,O.A)(r.message||"Erro ao salvar.","error"),D(!1)}async function Y(){D(!0);let r=new FormData;r.append("osId",t),r.append("itemId",String(e.id||e.cto)),r.append("done","false");let a=await m(null,r);a.success?(A("PENDING"),i(!1),(0,O.A)("Marcada como n\xe3o executada.","warning")):(0,O.A)(a.message||"Erro ao atualizar.","error"),D(!1)}async function Q(e){J(null),D(!0);let r=await p(e,t);r.success?(0,O.A)("Foto removida.","success"):(0,O.A)(r.message||"Erro ao remover foto.","error"),D(!1)}async function ee(){J(null),D(!0);let r=await h(t,String(e.id||e.cto));r.success?(A("UNTOUCHED"),W(""),U(""),q(!1),i(!1),(0,O.A)("Caixa desmarcada.","success")):(0,O.A)(r.message||"Erro ao desmarcar.","error"),D(!1)}async function et(r){if(!r.target.files||0===r.target.files.length)return;T(!0);let a=new FormData;a.append("osId",t),a.append("itemId",String(e.id||e.cto)),Array.from(r.target.files).forEach(e=>{a.append("photos",e)});let n=await f(a);n.success?(0,O.A)("Fotos adicionadas!","success"):(0,O.A)(n.message||"Erro ao enviar fotos.","error"),T(!1),r.target.value=""}return(0,s.jsxs)(g.Zb,{className:`rounded-xl shadow-sm border transition-all ${"DONE"===x?"bg-green-100 dark:bg-green-900/30 border-green-200 dark:border-green-800":"PENDING"===x?"bg-red-50 dark:bg-red-900/20 border-red-100 dark:border-red-800":"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-700"}`,children:[(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100 text-lg",children:e.cto}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(P.z,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full text-slate-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20",onClick:()=>document.getElementById(`file-upload-${e.cto}`)?.click(),disabled:I||R,title:"Adicionar Fotos",children:s.jsx(v.Z,{className:"h-5 w-5"})}),s.jsx("input",{type:"file",id:`file-upload-${e.cto}`,className:"hidden",onChange:et,multiple:!0,accept:"image/*"}),s.jsx("button",{onClick:()=>i(!0),className:`group relative flex h-6 w-11 items-center rounded-full border-2 transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 ${"DONE"===x?"bg-primary border-primary":"PENDING"===x?"bg-destructive border-destructive":"bg-slate-200 border-transparent"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white shadow-sm ring-0 transition duration-200 ease-in-out ${"DONE"===x?"translate-x-5":"translate-x-0.5"}`})})]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-primary font-medium",children:[s.jsx("div",{className:"w-4 flex items-center justify-center shrink-0",children:s.jsx(y,{className:"h-3 w-3 fill-current"})}),s.jsx("span",{children:e.chassiPath})]}),(0,s.jsxs)("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[s.jsx("div",{className:"w-4 flex items-center justify-center shrink-0 mt-0.5",children:s.jsx(N.Z,{className:"h-4 w-4"})}),s.jsx("span",{className:"line-clamp-2",children:e.endereco})]}),e.lat&&e.long&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx("div",{className:"w-4 flex items-center justify-center shrink-0",children:s.jsx(w,{className:"h-4 w-4"})}),(0,s.jsxs)("span",{children:[e.lat,", ",e.long]})]})]}),("DONE"===x||e.photos&&e.photos.length>0)&&(0,s.jsxs)("div",{className:"mt-4 pt-3 border-t border-slate-200/60 dark:border-slate-700 space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 font-medium text-slate-700 dark:text-slate-300",children:["DONE"===x&&e.potencia&&(0,s.jsxs)("span",{className:"bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded",children:["Signal: ",e.potencia," dBm"]}),"DONE"===x&&B&&s.jsx("span",{className:"px-2 py-1 rounded text-xs bg-emerald-100 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400 dark:border-emerald-800",children:"Certificada"})]}),e.photos&&e.photos.length>0&&(0,s.jsxs)(P.z,{variant:"ghost",size:"sm",onClick:()=>q(!M),className:`h-7 text-xs gap-1 ${M?"text-blue-600 bg-blue-50 dark:bg-blue-900/20":"text-primary"}`,children:[s.jsx(E,{className:"h-3 w-3"})," ",M?"Esconder":`Ver ${e.photos.length}`," Fotos"]})]}),"DONE"===x&&e.obs&&(0,s.jsxs)("div",{className:"bg-amber-50 dark:bg-amber-900/10 p-2 rounded border border-amber-100 dark:border-amber-900/30 text-xs text-amber-800 dark:text-amber-400 italic",children:['"',e.obs,'"']}),"DONE"===x&&(e.nomeEquipe||r)&&s.jsx("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Respons\xe1vel: ",s.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:e.nomeEquipe||r})]})})]}),M&&e.photos&&e.photos.length>0&&s.jsx("div",{className:"mt-3 grid grid-cols-5 sm:grid-cols-6 gap-2 animate-in fade-in duration-300",children:e.photos.map((e,t)=>(0,s.jsxs)("div",{className:"relative aspect-square overflow-hidden rounded-md border border-slate-100 dark:border-slate-700 shadow-sm group/photo",children:[s.jsx(b.default,{src:e.path,alt:"Foto",fill:!0,className:"object-cover transition-transform hover:scale-110 cursor-pointer",onClick:()=>{F(t),_(!0)}}),s.jsx("button",{onClick:t=>{var r;t.preventDefault(),t.stopPropagation(),r=e.id,J({title:"Excluir Foto",message:"Tem certeza que deseja apagar esta foto? Esta a\xe7\xe3o n\xe3o pode ser desfeita.",action:()=>Q(r)})},className:"absolute top-1 right-1 bg-red-500/80 text-white p-1 rounded-full opacity-0 group-hover/photo:opacity-100 transition-opacity hover:bg-red-600",title:"Excluir foto",disabled:!a?.isAdmin&&e.equipeId!==a?.id,children:s.jsx(j.Z,{className:"h-3 w-3"})})]},e.id))}),e.lat&&e.long&&s.jsx(P.z,{variant:"default",className:"mt-4 w-full bg-blue-600 hover:bg-blue-700 text-white shadow-sm",onClick:()=>c(!0),children:"Abrir no Mapa"})]}),s.jsx(C.O,{isOpen:$,onClose:()=>_(!1),images:e.photos?.map(e=>e.path)||[],initialIndex:L}),s.jsx(e2,{open:l,onOpenChange:c,children:(0,s.jsxs)(tw,{className:"sm:max-w-md bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800",children:[s.jsx(tE,{children:s.jsx(tj,{className:"text-xl font-bold text-center pb-2",children:"Escolha o aplicativo"})}),(0,s.jsxs)("div",{className:"grid gap-3 py-4 pt-0",children:[(0,s.jsxs)("a",{href:`https://www.google.com/maps/search/?api=1&query=${e.lat},${e.long}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4 rounded-xl border border-slate-200 dark:border-slate-700 p-4 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors shadow-sm group",onClick:()=>c(!1),children:[s.jsx("div",{className:"relative w-12 h-12 shrink-0 rounded-xl overflow-hidden shadow-sm border border-slate-100 dark:border-slate-800",children:s.jsx(b.default,{src:"/assets/icons/google-maps.jpg",alt:"Google Maps",fill:!0,className:"object-cover"})}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-slate-900 dark:text-slate-100 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:"Google Maps"}),s.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:"Recomendado"})]})]}),(0,s.jsxs)("a",{href:`https://waze.com/ul?ll=${e.lat},${e.long}&navigate=yes`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4 rounded-xl border border-slate-200 dark:border-slate-700 p-4 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors shadow-sm group",onClick:()=>c(!1),children:[s.jsx("div",{className:"relative w-12 h-12 shrink-0 rounded-xl overflow-hidden shadow-sm border border-slate-100 dark:border-slate-800",children:s.jsx(b.default,{src:"/assets/icons/waze.png",alt:"Waze",fill:!0,className:"object-cover"})}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-slate-900 dark:text-slate-100 group-hover:text-cyan-500 transition-colors",children:"Waze"}),s.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:"Tr\xe2nsito em tempo real"})]})]}),(0,s.jsxs)("a",{href:`http://maps.apple.com/?daddr=${e.lat},${e.long}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4 rounded-xl border border-slate-200 dark:border-slate-700 p-4 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors shadow-sm sm:hidden group",onClick:()=>c(!1),children:[s.jsx("div",{className:"relative w-12 h-12 shrink-0 rounded-xl overflow-hidden shadow-sm border border-slate-100 dark:border-slate-800",children:s.jsx(b.default,{src:"/assets/icons/apple-maps.jpg",alt:"Apple Maps",fill:!0,className:"object-cover"})}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-slate-900 dark:text-slate-100 group-hover:text-slate-600 dark:group-hover:text-slate-300 transition-colors",children:"Apple Maps"}),s.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:"Nativo iOS"})]})]}),(0,s.jsxs)("a",{href:`geo:${e.lat},${e.long}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4 rounded-xl border border-slate-200 dark:border-slate-700 p-4 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors shadow-sm group",onClick:()=>c(!1),children:[s.jsx("div",{className:"w-12 h-12 shrink-0 bg-slate-100 dark:bg-slate-800 rounded-xl flex items-center justify-center border border-slate-200 dark:border-slate-700",children:s.jsx(w,{className:"h-6 w-6 text-slate-600 dark:text-slate-400 group-hover:scale-110 transition-transform"})}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Outro App"}),s.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:"Escolher app instalado"})]})]})]})]})}),n&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:(0,s.jsxs)(g.Zb,{className:"w-full max-w-md overflow-hidden relative shadow-2xl dark:bg-slate-900 dark:border-slate-700",children:[s.jsx(g.Ol,{className:"bg-slate-50 dark:bg-slate-800 border-b dark:border-slate-700 pb-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("h3",{className:"font-bold text-lg text-slate-900 dark:text-slate-100",children:["Atualizar Caixa ",e.cto]}),s.jsx("button",{onClick:()=>i(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:""})]})}),s.jsx("div",{className:"p-6",children:(0,s.jsxs)("form",{onSubmit:X,className:"space-y-5",children:[s.jsx("input",{type:"hidden",name:"osId",value:t}),s.jsx("input",{type:"hidden",name:"itemId",value:String(e.id||e.cto)}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 items-end",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium leading-none text-slate-700 dark:text-slate-300",children:"Pot\xeancia (dBm)"}),s.jsx(d.I,{type:"number",name:"power",step:"0.01",min:"-50",max:"-10",value:z,onChange:e=>W(e.target.value),className:"font-mono text-lg"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 h-10 bg-slate-100 dark:bg-slate-800 rounded-md px-3 border border-slate-200 dark:border-slate-700",children:[s.jsx("input",{type:"checkbox",id:`certified-${e.cto}`,name:"certified",checked:B,onChange:e=>H(e.target.checked),className:"h-5 w-5 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500"}),s.jsx("label",{htmlFor:`certified-${e.cto}`,className:"text-sm font-medium text-slate-700 dark:text-slate-200 cursor-pointer select-none",children:"Certificada"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-sm font-medium leading-none text-slate-700 dark:text-slate-300",children:["Observa\xe7\xe3o ",s.jsx("span",{className:"text-xs font-normal text-slate-400",children:"(Opcional)"})]}),s.jsx(tk.g,{name:"obs",value:Z,onChange:e=>U(e.target.value),rows:3,placeholder:"Descreve aqui qualquer detalhe importante..."})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-3 pt-2",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(P.z,{type:"button",variant:"destructive",onClick:Y,disabled:I,className:"w-full",children:"N\xe3o Executada"}),s.jsx(P.z,{type:"submit",className:"w-full shadow-lg bg-emerald-600 hover:bg-emerald-700 h-10",disabled:I,children:I?"Salvando...":"DONE"===x?"Atualizar":"Concluir"})]}),G&&"PENDING"!==x&&(0,s.jsxs)(P.z,{type:"button",variant:"outline",onClick:function(){J({title:"Desmarcar Caixa",message:"Dados e fotos desta caixa ser\xe3o removidos. Deseja continuar?",action:ee})},disabled:I,className:"w-full gap-2 text-rose-500 border-rose-200 hover:bg-rose-50 hover:text-rose-600",children:[s.jsx(k,{className:"h-4 w-4"}),"Desmarcar"]})]})]})})]})}),s.jsx(S.s,{open:!!V,title:V?.title||"",message:V?.message||"",variant:"danger",confirmLabel:"Sim, continuar",onConfirm:()=>V?.action(),onCancel:()=>J(null)})]})}function tC({osId:e,protocolo:t,items:r,equipeName:a,session:n}){let[i,u]=(0,o.useState)(""),f=(0,o.useMemo)(()=>r.map(e=>{let t=String(e.id||e.cto),r="UNTOUCHED";return e.done||"OK"===e.status?r="DONE":"NOK"===e.status&&(r="PENDING"),{...e,itemId:t,executionStatus:r}}),[r]),m=(0,o.useMemo)(()=>{let e=f.length,t=f.filter(e=>"DONE"===e.executionStatus).length,r=f.filter(e=>"PENDING"===e.executionStatus).length,a=e-t-r;return{total:e,done:t,pending:r,untouched:a,donePct:e>0?t/e*100:0,pendingPct:e>0?r/e*100:0,untouchedPct:e>0?a/e*100:0}},[f]),p=(0,o.useMemo)(()=>{if(!i)return f;let e=i.toLowerCase();return f.filter(t=>t.cto.toLowerCase().includes(e)||t.chassiPath&&t.chassiPath.toLowerCase().includes(e))},[f,i]);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 p-5 shadow-sm mx-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(l.Z,{className:"h-5 w-5 text-blue-500"}),s.jsx("h2",{className:"font-bold text-slate-800 dark:text-slate-100",children:"Progresso da Execu\xe7\xe3o"})]}),(0,s.jsxs)("span",{className:"text-sm font-bold text-blue-600 dark:text-blue-400",children:[m.done," / ",m.total," conclu\xeddas"]})]}),(0,s.jsxs)("div",{className:"h-3 w-full bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden flex",children:[s.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-500 ease-out",style:{width:`${m.donePct}%`},title:`Conclu\xeddas: ${m.done}`}),s.jsx("div",{className:"h-full bg-rose-500 transition-all duration-500 ease-out",style:{width:`${m.pendingPct}%`},title:`Pendentes: ${m.pending}`})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 mt-4 text-xs font-medium",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-emerald-500"}),(0,s.jsxs)("span",{className:"text-slate-600 dark:text-slate-400",children:[m.done," Conclu\xeddas"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-rose-500"}),(0,s.jsxs)("span",{className:"text-slate-600 dark:text-slate-400",children:[m.pending," Pendentes"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-slate-200 dark:bg-slate-700"}),(0,s.jsxs)("span",{className:"text-slate-600 dark:text-slate-400",children:[m.untouched," A fazer"]})]})]})]}),s.jsx("div",{className:"px-4",children:(0,s.jsxs)("div",{className:"relative group",children:[s.jsx(c.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400 group-focus-within:text-blue-500 transition-colors"}),s.jsx(d.I,{placeholder:"Buscar caixa (ex: FLA21-0123)...",className:"pl-10 h-11 bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800 shadow-sm rounded-xl focus-visible:ring-blue-500 focus-visible:border-blue-500",value:i,onChange:e=>u(e.target.value)}),i&&s.jsx("button",{onClick:()=>u(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs font-medium text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:"Limpar"})]})}),s.jsx("div",{className:"px-4 pb-10 space-y-4",children:0===p.length?(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-dashed border-slate-300 dark:border-slate-800 p-10 text-center",children:[s.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 h-12 w-12 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(c.Z,{className:"h-6 w-6 text-slate-400"})}),s.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100 mb-1",children:"Nenhuma caixa encontrada"}),s.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Tente ajustar sua busca ou limpar o filtro."}),i&&(0,s.jsxs)("button",{onClick:()=>u(""),className:"mt-4 text-sm font-bold text-blue-600 dark:text-blue-400 hover:underline",children:["Ver todas as ",m.total," caixas"]})]}):p.map((t,r)=>s.jsx(tP,{item:{...t,id:t.itemId},osId:e,equipeName:a,session:n},t.itemId))})]})}},33998:(e,t,r)=>{"use strict";r.r(t),r.d(t,{deleteChecklistPhoto:()=>b,resetChecklistItem:()=>g,updateChecklistItem:()=>h,uploadChecklistPhotos:()=>v});var a=r(98601);r(75811);var n=r(32870),s=r(50841),o=r(43811),i=r(68474),l=r(19961),c=r(73292),d=r(71017),u=r.n(d),f=r(46893);let m=["image/jpeg","image/jpg","image/png","image/webp"],p=n.z.object({osId:n.z.string().min(1,"osId obrigat\xf3rio"),itemId:n.z.string().min(1,"itemId obrigat\xf3rio"),done:n.z.preprocess(e=>e??"false",n.z.enum(["true","false"])),power:n.z.preprocess(e=>e||void 0,n.z.string().optional()),obs:n.z.preprocess(e=>e||void 0,n.z.string().optional()),certified:n.z.preprocess(e=>"true"===e||"on"===e,n.z.boolean().default(!1))});async function h(e,t){let a=await (0,i.requireAuth)().catch(()=>null);if(!a)return{success:!1,message:"N\xe3o autenticado."};let n=a.id,d=p.safeParse({osId:t.get("osId"),itemId:t.get("itemId"),done:t.get("done"),power:t.get("power"),obs:t.get("obs"),certified:t.get("certified")});if(!d.success)return{success:!1,message:"Dados inv\xe1lidos: "+d.error.issues.map(e=>e.message).join(", ")};let{osId:f,itemId:h,power:b,obs:g,certified:v}=d.data,x="true"===d.data.done,y=t.getAll("photos");try{let e=await s.prisma.caixaAlare.findUnique({where:{id:h},select:{status:!0,equipe:!0}}),t=await s.prisma.serviceExecution.findFirst({where:{osId:f}}),a=await s.prisma.equipe.findUnique({where:{id:n},select:{name:!0,fullName:!0,nomeEquipe:!0}}),i=a?.fullName||a?.nomeEquipe||a?.name||"Equipe";t?t.technicianName||(t=await s.prisma.serviceExecution.update({where:{id:t.id},data:{technicianName:i}})):t=await s.prisma.serviceExecution.create({data:{osId:f,equipeId:n,technicianName:i,status:"PENDING",obs:"Iniciado via checklist"}});let l={status:x?"OK":"NOK",potencia:b||"",certified:v,obs:g||""};if(e?.status!=="OK"&&(l.equipe=n,l.nomeEquipe=i),await s.prisma.caixaAlare.update({where:{id:h},data:l}),x&&await s.prisma.orderOfService.update({where:{id:f},data:{status:"Em execu\xe7\xe3o"}}),x&&y.length>0&&y[0].size>0){let{getOSById:e}=await Promise.resolve().then(r.bind(r,69260)),a=await e(f),o=a?.protocolo||"SEM_PROTOCOLO",i=process.env.PHOTOS_PATH||"C:\\Programas\\PROJETOS\\fotos",l=u().join(i,o);for(let e of(await (0,c.mkdir)(l,{recursive:!0}),y)){if(e.size>5242880||!m.includes(e.type))continue;let r=Buffer.from(await e.arrayBuffer()),a=e.name.replace(/[^a-zA-Z0-9.-]/g,"_"),i=`${Date.now()}-${Math.round(1e3*Math.random())}`,d=`${i}-${a}`,f=u().join(l,d);await (0,c.writeFile)(f,r),await s.prisma.photo.create({data:{executionId:t.id,caixaId:h,equipeId:n,path:`/api/images/${o}/${d}`}})}}if((0,o.revalidatePath)(`/os/${f}`),(0,o.revalidatePath)("/admin/dashboard"),(0,o.revalidatePath)("/os"),x){let{createNotification:e}=await Promise.resolve().then(r.bind(r,36051)),{getOSById:a}=await Promise.resolve().then(r.bind(r,69260)),n=await a(f),s=n?.protocolo||f,o=n?.items?.find(e=>String(e.id)===h),l=o?.cto||h;await e({type:"CHECKLIST",title:"Caixa Verificada",message:`${i} marcou CTO ${l} na OS ${s}${g?` (Obs: ${g})`:""}`,equipeId:t.equipeId||void 0,technicianName:i,osId:f})}return{success:!0,message:"Item atualizado!"}}catch(e){return l.logger.error("Error updating checklist",{error:String(e)}),{success:!1,message:"Erro ao atualizar item."}}}async function b(e,t){let a=await (0,i.requireAuth)().catch(()=>null);if(!a)return{success:!1,message:"N\xe3o autenticado."};try{let n=await s.prisma.photo.findUnique({where:{id:e}});if(!n)return{success:!1,message:"Foto n\xe3o encontrada."};if(n.equipeId!==a.id&&!a.isAdmin)return{success:!1,message:"N\xe3o autorizado. Voc\xea s\xf3 pode excluir fotos que voc\xea mesmo enviou."};let i="";if(n.path.startsWith("/api/images/")){let e=n.path.replace("/api/images/","");i=u().join(process.env.PHOTOS_PATH||"C:\\Programas\\PROJETOS\\fotos",e)}else i=u().join(process.cwd(),"public",n.path);return await Promise.resolve().then(r.t.bind(r,73292,23)).then(e=>e.unlink(i).catch(()=>{})),await s.prisma.photo.delete({where:{id:e}}),(0,o.revalidatePath)(`/os/${t}`),{success:!0,message:"Foto removida."}}catch(e){return l.logger.error("Error deleting photo",{error:String(e)}),{success:!1,message:"Erro ao remover foto."}}}async function g(e,t){let a=await (0,i.requireAuth)().catch(()=>null);if(!a)return{success:!1,message:"N\xe3o autenticado."};try{let n=await s.prisma.caixaAlare.findUnique({where:{id:t},select:{equipe:!0,status:!0}});if(!n)return{success:!1,message:"Caixa n\xe3o encontrada."};if(n.equipe!==a.id&&!a.isAdmin)return{success:!1,message:"N\xe3o autorizado. Apenas o t\xe9cnico que realizou a caixa ou um administrador podem desmarcar."};for(let e of(await s.prisma.photo.findMany({where:{caixaId:t}}))){try{let t="";if(e.path.startsWith("/api/images/")){let r=e.path.replace("/api/images/","");t=u().join(process.env.PHOTOS_PATH||"C:\\Programas\\PROJETOS\\fotos",r)}else t=u().join(process.cwd(),"public",e.path);await Promise.resolve().then(r.t.bind(r,73292,23)).then(e=>e.unlink(t))}catch(e){l.logger.warn("Error deleting photo file",{error:String(e)})}await s.prisma.photo.delete({where:{id:e.id}})}return await s.prisma.caixaAlare.update({where:{id:t},data:{status:"Pendente",equipe:"",nomeEquipe:"",potencia:"",certified:!1,obs:""}}),(0,o.revalidatePath)(`/os/${e}`),{success:!0,message:"Item desmarcado."}}catch(e){return l.logger.error("Error resetting checklist",{error:String(e)}),{success:!1,message:"Erro ao desmarcar item."}}}async function v(e){let t=await (0,i.requireAuth)().catch(()=>null);if(!t)return{success:!1,message:"N\xe3o autenticado."};let a=e.get("osId"),n=e.get("itemId"),d=e.getAll("photos");if(!a||!n||0===d.length)return{success:!1,message:"Dados incompletos."};try{let e=await s.prisma.serviceExecution.findFirst({where:{osId:a}}),i=await s.prisma.equipe.findUnique({where:{id:t.id},select:{name:!0,fullName:!0,nomeEquipe:!0}}),l=i?.fullName||i?.nomeEquipe||i?.name||"Equipe";e?e.technicianName||(e=await s.prisma.serviceExecution.update({where:{id:e.id},data:{technicianName:l}})):e=await s.prisma.serviceExecution.create({data:{osId:a,equipeId:t.id,technicianName:l,status:"PENDING",obs:"Iniciado via upload de fotos"}});let{getOSById:f}=await Promise.resolve().then(r.bind(r,69260)),p=await f(a),h=p?.protocolo||"SEM_PROTOCOLO",b=process.env.PHOTOS_PATH||"C:\\Programas\\PROJETOS\\fotos",g=u().join(b,h);for(let r of(await (0,c.mkdir)(g,{recursive:!0}),d)){if(r.size>5242880||!m.includes(r.type))continue;let a=Buffer.from(await r.arrayBuffer()),o=r.name.replace(/[^a-zA-Z0-9.-]/g,"_"),i=`${Date.now()}-${Math.round(1e3*Math.random())}`,l=`${i}-${o}`,d=u().join(g,l);await (0,c.writeFile)(d,a),await s.prisma.photo.create({data:{executionId:e.id,caixaId:n,equipeId:t.id,path:`/api/images/${h}/${l}`}})}return(0,o.revalidatePath)(`/os/${a}`),{success:!0,message:"Fotos adicionadas."}}catch(e){return l.logger.error("Error uploading photos",{error:String(e)}),{success:!1,message:"Erro ao salvar fotos."}}}(0,f.ensureServerEntryExports)([h,b,g,v]),(0,a.createActionProxy)("6da7003579056233712394fa6e028a7f2a439d1e",h),(0,a.createActionProxy)("b06f5a4d9400fc918d8a774ad44e361b29420175",b),(0,a.createActionProxy)("db6ecb818f221f647e26e6f7758067e75abe9e22",g),(0,a.createActionProxy)("7d92606c6af10ca17002dfa0e1f2af0a017ffc8d",v)},68394:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(25036),n=r(85843),s=r(81494),o=r(867),i=r(16274),l=r(26540),c=r(74801);let d=(0,r(86843).createProxy)(String.raw`C:\Programas\PROJETOS\sistema-time-de-campo\src\app\os\[id]\execution\OSExecutionClient.tsx`),{__esModule:u,$$typeof:f}=d,m=d.default;var p=r(55379);async function h({params:e}){let t=await (0,n.ho)(e.id),r=await (0,p.getSession)();if(!t)return(0,o.notFound)();let d=await s._.serviceExecution.findFirst({where:{osId:t.id},include:{equipe:!0,photos:!0}});return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100 dark:bg-slate-950 pb-10 transition-colors",children:[a.jsx(c.c,{}),(0,a.jsxs)("div",{className:"pt-20 px-4 pb-2 flex items-center gap-3",children:[a.jsx(i.default,{href:`/os/${t.id}`,className:"p-2 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full transition-colors",children:a.jsx(l.Z,{className:"h-5 w-5 text-slate-700 dark:text-slate-300"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("h1",{className:"text-xl font-bold text-slate-900 dark:text-slate-100 uppercase tracking-tight",children:["Execu\xe7\xe3o OS ",t.protocolo]}),a.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:t.pop})]})]}),a.jsx(m,{osId:t.id,protocolo:t.protocolo,items:t.items,equipeName:d?.equipe?.fullName||d?.equipe?.nomeEquipe||d?.equipe?.name,session:r})]})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[893,402,235,722,341,867,528,163,213,268],()=>r(62353));module.exports=a})();